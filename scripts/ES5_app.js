var _banano_sd5addressbook=new banano_sd5addressbook();var _banano_sithasodaisy5_modsd5=new banano_sithasodaisy5_modsd5();var _banano_sd5addressbook_blankpage=new banano_sd5addressbook_blankpage();var _banano_sd5addressbook_pgcategories=new banano_sd5addressbook_pgcategories();var _banano_sd5addressbook_pgcontacts=new banano_sd5addressbook_pgcontacts();var _banano_sd5addressbook_pgindex=new banano_sd5addressbook_pgindex();var _banano_sd5addressbook_pgprovinces=new banano_sd5addressbook_pgprovinces();
/* App */
function banano_sd5addressbook_blankpage() {var _B;this._app=(typeof banano_sithasodaisy5_sdui5app === 'function') ? new banano_sithasodaisy5_sdui5app(): null;this._name="";this._title="";this._icon="./assets/page.svg";this._color="#000000";this.show=function(_mainapp) {if (_B==null) _B=this;_B._app=_mainapp;this.blankview(_B._app._pageview);_B._name=_B._page.getid();_B._title=_B._page.gettitle();_B._color=_B._page.getcolor();_B._icon=_B._page.geticon();await _B.buildpage(_B);};this.getname=function() {if (_B==null) _B=this;return _B._name;};this.geticon=function() {if (_B==null) _B=this;return _B._icon;};this.gettitle=function() {if (_B==null) _B=this;return _B._title;};this.getcolor=function() {if (_B==null) _B=this;return _B._color;};this.buildpage=function() {if (_B==null) _B=this;};this.blankview=function(Par) {u(Par).empty();_B._page=BANC( banano_sithasodaisy5_sdui5page,_B, "page", "page",u(Par), {"Active": true,"AsForm": false,"BackgroundColor": "base-100","BackgroundImage": "","CenterChildren": false,"ClearParent": false,"Color": "#000000","Columns": "","Container": false,"DeviceGridCols": "xs=?; sm=?; md=?; lg=?; xl=?","Flex": false,"FlexCol": false,"FlexWrap": false,"FullPage": false,"FullScreen": false,"Gap": "","Glass": false,"Gradient": "","GradientActive": false,"GradientColor1": "rgba(248,97,148,0.0)","GradientColor2": "rgba(150,137,24,0.0)","Grid": false,"GridCols": "","Height": "","HFull": false,"Icon": "fa-solid fa-swatchbook","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MaxH": "","MaxW": "","MinH": "","MinW": "","MxAuto": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageName": "blank","ParentID": "pageview","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawClasses": "","RawDescription": "Blank Page","RawKeywords": "page","RawStyles": "","ResizePageView": false,"Rounded": "none","Shadow": "none","TextColor": "","Title": "Blank Page","Visible": true,"WFull": false,"Width": "","B4XLeft": 0,"B4XTop": 0,"B4XWidth": 600,"B4XHeight": 600,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});};}function banano_sd5addressbook_pgcategories() {var _B;this._app=(typeof banano_sithasodaisy5_sdui5app === 'function') ? new banano_sithasodaisy5_sdui5app(): null;this._mode="";this._todeleteid="";this._todeletename="";this._name="categories";this._title="Categories";this._icon="./assets/page.svg";this._color="#000000";this._txtid=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._txtname=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this.show=function(_mainapp) {if (_B==null) _B=this;_B._app=_mainapp;_B._app.pagepause();this.categoriesview(_B._app._pageview);await _B.buildcategoriestable(_B);await _B.buildcategoriesmodal(_B);await _B.mountcategories(false,_B);_B._app.pageresume();};this.buildcategoriestable=function() {if (_B==null) _B=this;_B._tblcategories.settitle("Categories");_B._tblcategories.sethasalphachooser(false);_B._tblcategories.setalphachoosercolumn("");_B._tblcategories.sethascolumnchooser(false);_B._tblcategories.setaddnewtooltip("Add a Category");_B._tblcategories.setrefreshtooltip("Refresh Categories");_B._tblcategories.setbacktooltip("Go back to Dashboard");_B._tblcategories.sethasedit(true);_B._tblcategories.setedittooltip("Edit Category");_B._tblcategories.sethasclone(true);_B._tblcategories.setclonetooltip("Clone Category");_B._tblcategories.sethasdelete(true);_B._tblcategories.setdeletetooltip("Delete Category");_B._tblcategories.addcolumn("name","Name");_B._tblcategories.adddesignercolums();_B._tblcategories.movebackbutton();};this.mountcategories=function(_bafterchange) {if (_B==null) _B=this;var _db;_B._app.pagepause();_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"categories");_db.setschemafromdatamodel(_B._app._datamodels);_db.clear_where();_db.add_order_by("name");await _db.select_all();if (_bafterchange==false) {await _B._tblcategories.setitemspaginate(_db._result);} else {_B._tblcategories._originals=_db._result;}_B._app.pageresume();};this.tblcategories_add=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._app.pagepause();await _B.addmode(_B);_B._app.pageresume();};this.tblcategories_refresh=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._app.pagepause();await _B.mountcategories(false,_B);_B._app.pageresume();};this.tblcategories_back=function(_e) {if (_B==null) _B=this;_e.preventDefault();_banano_sd5addressbook_pgcontacts.show(_B._app);};this.addmode=function() {if (_B==null) _B=this;_B._mode="C";_B._mdlcategories.settitle("Add Category");await _B.setcategoriesdefaults(_B);_B._txtid.setvalue(_B._app.nextid());_B._mdlcategories.show();_B._txtname.focus();};this.editmode=function(_item) {if (_B==null) _B=this;var _sid,_sname;_B._mode="U";_B._mdlcategories.settitle("Edit Category");await _B.setcategoriesdefaults(_B);_sid=_item["id"];_sname=_item["name"];_B._txtid.setvalue(_sid);_B._txtname.setvalue(_sname);_B._mdlcategories.show();_B._txtname.focus();};this.clonemode=function(_item) {if (_B==null) _B=this;var _sid,_sname;_B._mode="C";_B._mdlcategories.settitle("Clone Category");await _B.setcategoriesdefaults(_B);_item["id"]=_B._app.nextid();_sid=_item["id"];_sname=_item["name"];_B._txtid.setvalue(_sid);_B._txtname.setvalue(_sname);_B._mdlcategories.show();_B._txtname.focus();};this.tblcategories_editrow=function(_row,_item) {if (_B==null) _B=this;var _sid,_db,_rec;_B._app.pagepause();_sid=_item["id"];_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"categories");_db.setschemafromdatamodel(_B._app._datamodels);_rec=await _db.read(_sid);await _B.editmode(_rec,_B);_B._app.pageresume();};this.tblcategories_deleterow=function(_row,_item) {if (_B==null) _B=this;var _smsg,_bconfirm,_db;_B._todeleteid=_item["id"];_B._todeletename=_item["name"];_smsg="<h2 class=\"text-2xl font-bold mt-2\">" + _B._todeletename + "</h2><br>Are you sure that you want to delete this Category?";_bconfirm=await _B._app.showswalconfirmwait("Confirm Delete",_smsg,"Yes","No");if (_bconfirm==false) { return ;}_B._app.pagepause();_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"categories");_db.setschemafromdatamodel(_B._app._datamodels);await _db.delete(_B._todeleteid);await _B.mountcategories(false,_B);_B._app.pageresume();};this.tblcategories_clonerow=function(_row,_item) {if (_B==null) _B=this;var _sid,_db,_rec;_B._app.pagepause();_sid=_item["id"];_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"categories");_db.setschemafromdatamodel(_B._app._datamodels);_rec=await _db.read(_sid);await _B.clonemode(_rec,_B);_B._app.pageresume();};this.setcategoriesdefaults=function() {if (_B==null) _B=this;_B._txtid.setvalue("");_B._txtname.setvalue("");};this.getcategoriesvalid=function() {if (_B==null) _B=this;if (_B._txtid.isblank()) { return false;}if (_B._txtname.isblank()) { return false;}return true;};this.mdlcategories_yes_click=function(_e) {if (_B==null) _B=this;var _bvalid,_sid,_sname,_db,_nid;_e.preventDefault();_bvalid=await _B.getcategoriesvalid(_B);if (_bvalid==false) { return ;}_B._app.pagepause();_sid=_B._txtid.getvalue();_sname=_B._txtname.getvalue();_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"categories");_db.setschemafromdatamodel(_B._app._datamodels);_db.preparerecord();_db.setfield("id",_sid);_db.setfield("name",_sname);switch ("" + _B._mode) {case "" + "C":_nid=await _db.create();break;case "" + "U":_nid=await _db.update();break;}_B._app.pageresume();if (_nid!="") {await _B._app.showswalsuccesswait("Category","The category has been saved.","Ok");} else {await _B._app.showswalerrorwait("Category","The category could not be saved, please try again.","Ok");return;}_B._mdlcategories.close();_B._app.pagepause();await _B.mountcategories(false,_B);_B._app.pageresume();};this.mdlcategories_no_click=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._mdlcategories.close();_B._app.pagepause();await _B.mountcategories(false,_B);_B._app.pageresume();};this.buildcategoriesmodal=function() {if (_B==null) _B=this;_B._mdlcategories.setheight("fit");_B._mdlcategories.setwidth("700px");_B._mdlcategories._form.clear();_B._mdlcategories._form.addrows1();_B._mdlcategories._form.addcolumns12();_B._mdlcategories._form.addrows1();_B._mdlcategories._form.addcolumns12();await _B._mdlcategories._form.buildgrid();_B._txtid.initialize(_B,"txtId","txtId");_B._txtid.setinputtype("legend");_B._txtid.settypeof("text");_B._txtid.setlabel("#");_B._txtid.setvalue("");_B._txtid.setrequired(true);_B._txtid.setprependicon("");_B._txtid.setappendicon("");_B._txtid.setenabled(true);_B._txtid.setvisible(false);_B._txtid.setreadonly(false);_B._txtid.setbackgroundcolor("");_B._txtid.setborder(false);_B._txtid.setbordercolor("");_B._txtid.setmarginaxytblr("");_B._txtid.setpaddingaxytblr("");_B._txtid.setparentid(_B._mdlcategories._form.cellid("1","1"));await _B._txtid.addcomponent();_B._txtname.initialize(_B,"txtName","txtName");_B._txtname.setinputtype("legend");_B._txtname.settypeof("text");_B._txtname.setlabel("Name");_B._txtname.setvalue("");_B._txtname.setrequired(true);_B._txtname.setprependicon("");_B._txtname.setappendicon("");_B._txtname.setenabled(true);_B._txtname.setvisible(true);_B._txtname.setreadonly(false);_B._txtname.setbackgroundcolor("");_B._txtname.setborder(false);_B._txtname.setbordercolor("");_B._txtname.setmarginaxytblr("");_B._txtname.setpaddingaxytblr("");_B._txtname.setparentid(_B._mdlcategories._form.cellid("2","1"));await _B._txtname.addcomponent();};this.categoriesview=function(Par) {u(Par).empty();_B._sdui5row1=BANC( banano_sithasodaisy5_sdui5row,_B, "sdui5row1", "sdui5row1",u(Par), {"AlignContent": "none","AlignItems": "none","AlignSelf": "none","BackgroundColor": "","CenterChildren": false,"Enabled": true,"Gap": "","GridCols": "12","GridColsLg": "","GridColsMd": "","GridColsSm": "","GridColsXl": "","GridColsXxl": "","Gutter": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","Height": "","JustifyContent": "none","JustifyItems": "none","JustifySelf": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "","PlaceContent": "none","PlaceItems": "none","PlaceSelf": "none","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawBorderColor": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderRadius": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderStyle": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderWidth": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawClasses": "","RawStyles": "","Rounded": "none","RowCols": "","RowColsLg": "","RowColsMd": "","RowColsSm": "","RowColsXl": "","RowColsXxl": "","Shadow": "none","Text": "","TextAlign": "none","TextColor": "","Visible": true,"Width": "","B4XLeft": 10,"B4XTop": 10,"B4XWidth": 580,"B4XHeight": 140,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._sdui5column1=BANC( banano_sithasodaisy5_sdui5column,_B, "sdui5column1", "sdui5column1",u('#sdui5row1'), {"AlignContent": "none","AlignItems": "none","AlignSelf": "","BackgroundColor": "","CenterChildren": false,"Enabled": true,"Height": "","JustifyContent": "none","JustifyItems": "none","JustifySelf": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","OffsetLg": "","OffsetMd": "","OffsetSm": "","OffsetXl": "","OffsetXxl": "","Order": "","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "","PlaceContent": "none","PlaceItems": "none","PlaceSelf": "none","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawBorderColor": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderRadius": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderStyle": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderWidth": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawClasses": "","RawStyles": "","Rounded": "none","Shadow": "none","Size": "12","SizeLg": "","SizeMd": "","SizeSm": "","SizeXl": "","SizeXxl": "","Text": "","TextAlign": "none","TextColor": "","Visible": true,"Width": "","B4XLeft": 20,"B4XTop": 20,"B4XWidth": 560,"B4XHeight": 120,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._tblcategories=BANC( banano_sithasodaisy5_sdui5table,_B, "tblcategories", "tblcategories",u('#sdui5column1'), {"AddNewTooltip": "Add a new","AlphaChooserColumn": "name","AlphaChooserHeight": "8","AlphaChooserTextColor": "#ffffff","BackTooltip": "Go back to dashboard","BadgesOutlined": false,"BadgesSize": "md","ButtonSize": "sm","ButtonsOutlined": false,"CloneTooltip": "","ColumnChooserColor": "primary","ColumnChooserHeight": "8","ColumnChooserTextColor": "#ffffff","ComponentSize": "sm","DeleteAllTooltip": "","DeleteSingleTooltip": "","DeleteTooltip": "Delete","DownloadToolbarTooltip": "","DownloadTooltip": "","EditTooltip": "Edit","ExcelTitle": "Table","ExportToCsv": false,"ExportToCsvTooltip": "","ExportToPdf": false,"ExportToPdfTooltip": "","ExportToXls": false,"ExportToXlsTooltip": "","FlexWrapActions": false,"FontSize": "11","GridTooltip": "","HasAddnew": true,"HasAlphaChooser": true,"HasBack": true,"HasClone": true,"HasColumnChooser": true,"HasDelete": true,"HasDeleteAll": false,"HasDeleteSingle": false,"HasDownload": false,"HasEdit": true,"HasExpand": false,"HasExportMenu": false,"HasFilter": false,"HasGrid": false,"HasMenu": false,"HasRefresh": true,"HasSaveSingle": false,"HasSearch": true,"HasToolbarDownload": false,"HasToolbarUpload": false,"HasUpload": false,"Hover": false,"IsCompact": true,"IsNormal": false,"IsZebra": false,"ItemsPerPage": "5","LowerCase": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MenuTooltip": "","MultipleFiles": false,"NormalCase": false,"Orientation": "landscape","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageBreakRepeat": "","PageSize": "a4","Pagination": true,"ParentID": "","PdfTheme": "striped","RawAttributes": "","RawClasses": "","RawStyles": "","RefreshTooltip": "Refresh","SaveSingleTooltip": "","SearchSize": "sm","SearchWidth": "300px","SelectAll": false,"Shadow": "sm","ShowTotalRecords": true,"Title": "Table","TitleVisible": true,"TooltipColor": "primary","Unit": "pt","UploadToolbarTooltip": "","UploadTooltip": "","Visible": true,"WrapHeadings": false,"B4XLeft": 30,"B4XTop": 30,"B4XWidth": 540,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._mdlcategories=BANC( banano_sithasodaisy5_sdui5modal,_B, "mdlcategories", "mdlcategories",u(Par), {"ActionsVisible": true,"ActionType": "yes-no","Backdrop": true,"BottonsWidth": "22","ButtonsRounded": "md","ButtonsShadow": "md","CancelCaption": "Cancel","CancelColor": "gray","CancelLoading": false,"CancelTextColor": "#ffffff","CancelVisible": true,"Closable": true,"Enabled": true,"FullScreen": false,"Glass": false,"Height": "fit","Icon": "","IconColor": "","IconSize": "","IconVisible": false,"LGMoveFrom": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MDMoveFrom": "none","MoveFrom": "middle","NoCaption": "Cancel","NoColor": "error","NoLoading": false,"NoTextColor": "#ffffff","NoVisible": true,"Open": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawClasses": "","RawHtml": "","RawStyles": "","ReadMe": "Child Item _box|_title|_form|_action","SMMoveFrom": "none","Title": "Modal Dialog","TitleTextColor": "","Visible": true,"Width": "700px","XLMoveFrom": "none","YesCaption": "Save","YesColor": "success","YesLoading": false,"YesTextColor": "#ffffff","B4XLeft": 10,"B4XTop": 160,"B4XWidth": 100,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});};}function banano_sd5addressbook_pgcontacts() {var _B;this._app=(typeof banano_sithasodaisy5_sdui5app === 'function') ? new banano_sithasodaisy5_sdui5app(): null;this._mode="";this._todeleteid="";this._todeletename="";this._name="contacts";this._title="Contacts";this._icon="./assets/page.svg";this._color="#000000";this._categoriesobject={};this._provincesobject={};this._txtid=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._txtfullname=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._txtmobile=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._txttelephone=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._txtemailaddress=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._cbocategory=(typeof banano_sithasodaisy5_sdui5select === 'function') ? new banano_sithasodaisy5_sdui5select(): null;this._txtstreetaddress1=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._txtstreetaddress2=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._txtcity=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._cboprovince=(typeof banano_sithasodaisy5_sdui5select === 'function') ? new banano_sithasodaisy5_sdui5select(): null;this._txtpostalcode=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._txtstate=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this.show=function(_mainapp) {if (_B==null) _B=this;_B._app=_mainapp;_B._app.pagepause();this.contactsview(_B._app._pageview);await _B.buildcontactstable(_B);await _B.buildcontactsmodal(_B);await _B.mountcontacts(false,_B);_B._app.pageresume();};this.buildcontactstable=function() {if (_B==null) _B=this;_B._tblcontacts.settitle("Contacts");_B._tblcontacts.sethasalphachooser(true);_B._tblcontacts.setalphachoosercolumn("fullname");_B._tblcontacts.sethascolumnchooser(true);_B._tblcontacts.setaddnewtooltip("Add a Contact");_B._tblcontacts.setrefreshtooltip("Refresh Contacts");_B._tblcontacts.setbacktooltip("Go back to Dashboard");_B._tblcontacts.sethasedit(true);_B._tblcontacts.setedittooltip("Edit Contact");_B._tblcontacts.sethasclone(true);_B._tblcontacts.setclonetooltip("Clone Contact");_B._tblcontacts.sethasdelete(true);_B._tblcontacts.setdeletetooltip("Delete Contact");_B._tblcontacts.addcolumn("fullname","Full Name");_B._tblcontacts.addcolumn("mobile","Mobile");_B._tblcontacts.addcolumn("telephone","Telephone");_B._tblcontacts.setcolumnvisible("telephone",false);_B._tblcontacts.addcolumnemail("emailaddress","Email Address","emailaddress",_B._app._color_info);_B._tblcontacts.addcolumn("category","Category");_B._tblcontacts.setcolumncomputevalue("category","ComputeValueCategory");_B._tblcontacts.addcolumn("streetaddress1","Street Address 1");_B._tblcontacts.setcolumnvisible("streetaddress1",false);_B._tblcontacts.addcolumn("streetaddress2","Street Address 2");_B._tblcontacts.setcolumnvisible("streetaddress2",false);_B._tblcontacts.addcolumn("city","City");_B._tblcontacts.addcolumn("province","Province");_B._tblcontacts.setcolumncomputevalue("province","ComputeValueProvince");_B._tblcontacts.addcolumn("postalcode","Postal Code");_B._tblcontacts.setcolumnvisible("postalcode",false);_B._tblcontacts.addcolumn("state","State");_B._tblcontacts.setcolumnvisible("state",false);_B._tblcontacts.adddesignercolums();_B._tblcontacts.movebackbutton();};this.mountcontacts=function(_bafterchange) {if (_B==null) _B=this;var _db;_B._app.pagepause();await _B.loadcategories(_B);await _B.loadprovinces(_B);_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"contacts");_db.setschemafromdatamodel(_B._app._datamodels);_db.clear_where();_db.add_order_by("fullname");await _db.select_all();if (_bafterchange==false) {await _B._tblcontacts.setitemspaginate(_db._result);} else {_B._tblcontacts._originals=_db._result;}_B._app.pageresume();};this.tblcontacts_add=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._app.pagepause();await _B.loadcategories(_B);await _B.loadprovinces(_B);await _B.addmode(_B);_B._app.pageresume();};this.tblcontacts_refresh=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._app.pagepause();await _B.mountcontacts(false,_B);_B._app.pageresume();};this.tblcontacts_back=function(_e) {if (_B==null) _B=this;_e.preventDefault();};this.addmode=function() {if (_B==null) _B=this;_B._mode="C";_B._mdlcontacts.settitle("Add Contact");await _B._cbocategory.setoptionsfrommap(_B._categoriesobject);await _B._cboprovince.setoptionsfrommap(_B._provincesobject);await _B.setcontactsdefaults(_B);_B._txtid.setvalue(_B._app.nextid());_B._mdlcontacts.show();_B._txtfullname.focus();};this.editmode=function(_item) {if (_B==null) _B=this;var _sid,_sfullname,_smobile,_stelephone,_semailaddress,_scategory,_sstreetaddress1,_sstreetaddress2,_scity,_sprovince,_spostalcode,_sstate;_B._mode="U";_B._mdlcontacts.settitle("Edit Contact");await _B._cbocategory.setoptionsfrommap(_B._categoriesobject);await _B._cboprovince.setoptionsfrommap(_B._provincesobject);await _B.setcontactsdefaults(_B);_sid=_item["id"];_sfullname=_item["fullname"];_smobile=_item["mobile"];_stelephone=_item["telephone"];_semailaddress=_item["emailaddress"];_scategory=_item["category"];_sstreetaddress1=_item["streetaddress1"];_sstreetaddress2=_item["streetaddress2"];_scity=_item["city"];_sprovince=_item["province"];_spostalcode=_item["postalcode"];_sstate=_item["state"];_B._txtid.setvalue(_sid);_B._txtfullname.setvalue(_sfullname);_B._txtmobile.setvalue(_smobile);_B._txttelephone.setvalue(_stelephone);_B._txtemailaddress.setvalue(_semailaddress);_B._cbocategory.setvalue(_scategory);_B._txtstreetaddress1.setvalue(_sstreetaddress1);_B._txtstreetaddress2.setvalue(_sstreetaddress2);_B._txtcity.setvalue(_scity);_B._cboprovince.setvalue(_sprovince);_B._txtpostalcode.setvalue(_spostalcode);_B._txtstate.setvalue(_sstate);_B._mdlcontacts.show();_B._txtfullname.focus();};this.clonemode=function(_item) {if (_B==null) _B=this;var _sid,_sfullname,_smobile,_stelephone,_semailaddress,_scategory,_sstreetaddress1,_sstreetaddress2,_scity,_sprovince,_spostalcode,_sstate;_B._mode="C";_B._mdlcontacts.settitle("Clone Contact");await _B._cbocategory.setoptionsfrommap(_B._categoriesobject);await _B._cboprovince.setoptionsfrommap(_B._provincesobject);await _B.setcontactsdefaults(_B);_item["id"]=_B._app.nextid();_sid=_item["id"];_sfullname=_item["fullname"];_smobile=_item["mobile"];_stelephone=_item["telephone"];_semailaddress=_item["emailaddress"];_scategory=_item["category"];_sstreetaddress1=_item["streetaddress1"];_sstreetaddress2=_item["streetaddress2"];_scity=_item["city"];_sprovince=_item["province"];_spostalcode=_item["postalcode"];_sstate=_item["state"];_B._txtid.setvalue(_sid);_B._txtfullname.setvalue(_sfullname);_B._txtmobile.setvalue(_smobile);_B._txttelephone.setvalue(_stelephone);_B._txtemailaddress.setvalue(_semailaddress);_B._cbocategory.setvalue(_scategory);_B._txtstreetaddress1.setvalue(_sstreetaddress1);_B._txtstreetaddress2.setvalue(_sstreetaddress2);_B._txtcity.setvalue(_scity);_B._cboprovince.setvalue(_sprovince);_B._txtpostalcode.setvalue(_spostalcode);_B._txtstate.setvalue(_sstate);_B._mdlcontacts.show();_B._txtfullname.focus();};this.tblcontacts_editrow=function(_row,_item) {if (_B==null) _B=this;var _sid,_db,_rec;_B._app.pagepause();await _B.loadcategories(_B);await _B.loadprovinces(_B);_sid=_item["id"];_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"contacts");_db.setschemafromdatamodel(_B._app._datamodels);_rec=await _db.read(_sid);await _B.editmode(_rec,_B);_B._app.pageresume();};this.tblcontacts_deleterow=function(_row,_item) {if (_B==null) _B=this;var _smsg,_bconfirm,_db;_B._todeleteid=_item["id"];_B._todeletename=_item["fullname"];_smsg="<h2 class=\"text-2xl font-bold mt-2\">" + _B._todeletename + "</h2><br>Are you sure that you want to delete this Contact?";_bconfirm=await _B._app.showswalconfirmwait("Confirm Delete",_smsg,"Yes","No");if (_bconfirm==false) { return ;}_B._app.pagepause();_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"contacts");_db.setschemafromdatamodel(_B._app._datamodels);await _db.delete(_B._todeleteid);await _B.mountcontacts(false,_B);_B._app.pageresume();};this.tblcontacts_clonerow=function(_row,_item) {if (_B==null) _B=this;var _sid,_db,_rec;_B._app.pagepause();await _B.loadcategories(_B);await _B.loadprovinces(_B);_sid=_item["id"];_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"contacts");_db.setschemafromdatamodel(_B._app._datamodels);_rec=await _db.read(_sid);await _B.clonemode(_rec,_B);_B._app.pageresume();};this.loadcategories=function() {if (_B==null) _B=this;var _db,_sid,_sname;_B._categoriesobject={};_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"categories");_db.setschemafromdatamodel(_B._app._datamodels);_db.clear_where();_db.add_order_by("fullname");_db.add_fields(["id","name"]);await _db.select_all();while (_db.nextrow()) {_sid=_db.getstring("id");_sname=_db.getstring("name");_B._categoriesobject[_sid]=_sname;}};this.computevaluecategory=function(_item) {if (_B==null) _B=this;var _scategory,_tcategory;_scategory=_item["category"];_tcategory=_B._categoriesobject[_scategory]===undefined? "":_B._categoriesobject[_scategory];return _tcategory;};this.loadprovinces=function() {if (_B==null) _B=this;var _db,_sid,_sname;_B._provincesobject={};_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"provinces");_db.setschemafromdatamodel(_B._app._datamodels);_db.clear_where();_db.add_order_by("fullname");_db.add_fields(["id","name"]);await _db.select_all();while (_db.nextrow()) {_sid=_db.getstring("id");_sname=_db.getstring("name");_B._provincesobject[_sid]=_sname;}};this.computevalueprovince=function(_item) {if (_B==null) _B=this;var _sprovince,_tprovince;_sprovince=_item["province"];_tprovince=_B._provincesobject[_sprovince]===undefined? "":_B._provincesobject[_sprovince];return _tprovince;};this.setcontactsdefaults=function() {if (_B==null) _B=this;_B._txtid.setvalue("");_B._txtfullname.setvalue("");_B._txtmobile.setvalue("");_B._txttelephone.setvalue("");_B._txtemailaddress.setvalue("");_B._cbocategory.setvalue("");_B._txtstreetaddress1.setvalue("");_B._txtstreetaddress2.setvalue("");_B._txtcity.setvalue("");_B._cboprovince.setvalue("");_B._txtpostalcode.setvalue("");_B._txtstate.setvalue("");};this.getcontactsvalid=function() {if (_B==null) _B=this;if (_B._txtid.isblank()) { return false;}if (_B._txtfullname.isblank()) { return false;}if (_B._txtmobile.isblank()) { return false;}if (_B._txtemailaddress.isblank()) { return false;}if (_B._cbocategory.isblank()) { return false;}if (_B._txtstreetaddress1.isblank()) { return false;}if (_B._txtcity.isblank()) { return false;}if (_B._cboprovince.isblank()) { return false;}if (_B._txtpostalcode.isblank()) { return false;}return true;};this.mdlcontacts_yes_click=function(_e) {if (_B==null) _B=this;var _bvalid,_sid,_sfullname,_smobile,_stelephone,_semailaddress,_scategory,_sstreetaddress1,_sstreetaddress2,_scity,_sprovince,_spostalcode,_sstate,_db,_nid;_e.preventDefault();_bvalid=await _B.getcontactsvalid(_B);if (_bvalid==false) { return ;}_B._app.pagepause();_sid=_B._txtid.getvalue();_sfullname=_B._txtfullname.getvalue();_smobile=_B._txtmobile.getvalue();_stelephone=_B._txttelephone.getvalue();_semailaddress=_B._txtemailaddress.getvalue();_scategory=_B._cbocategory.getvalue();_sstreetaddress1=_B._txtstreetaddress1.getvalue();_sstreetaddress2=_B._txtstreetaddress2.getvalue();_scity=_B._txtcity.getvalue();_sprovince=_B._cboprovince.getvalue();_spostalcode=_B._txtpostalcode.getvalue();_sstate=_B._txtstate.getvalue();_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"contacts");_db.setschemafromdatamodel(_B._app._datamodels);_db.preparerecord();_db.setfield("id",_sid);_db.setfield("fullname",_sfullname);_db.setfield("mobile",_smobile);_db.setfield("telephone",_stelephone);_db.setfield("emailaddress",_semailaddress);_db.setfield("category",_scategory);_db.setfield("streetaddress1",_sstreetaddress1);_db.setfield("streetaddress2",_sstreetaddress2);_db.setfield("city",_scity);_db.setfield("province",_sprovince);_db.setfield("postalcode",_spostalcode);_db.setfield("state",_sstate);switch ("" + _B._mode) {case "" + "C":_nid=await _db.create();break;case "" + "U":_nid=await _db.update();break;}_B._app.pageresume();if (_nid!="") {await _B._app.showswalsuccesswait("Contact","The contact has been saved.","Ok");} else {await _B._app.showswalerrorwait("Contact","The contact could not be saved, please try again.","Ok");return;}_B._mdlcontacts.close();_B._app.pagepause();await _B.mountcontacts(false,_B);_B._app.pageresume();};this.mdlcontacts_no_click=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._mdlcontacts.close();_B._app.pagepause();await _B.mountcontacts(false,_B);_B._app.pageresume();};this.buildcontactsmodal=function() {if (_B==null) _B=this;_B._mdlcontacts.setheight("fit");_B._mdlcontacts.setwidth("800px");_B._mdlcontacts._form.clear();_B._mdlcontacts._form.addrows1();_B._mdlcontacts._form.addcolumns12();_B._mdlcontacts._form.addrows1();_B._mdlcontacts._form.addcolumns12();_B._mdlcontacts._form.addrows1();_B._mdlcontacts._form.addcolumns2x6();_B._mdlcontacts._form.addrows1();_B._mdlcontacts._form.addcolumns12();_B._mdlcontacts._form.addrows1();_B._mdlcontacts._form.addcolumns12();_B._mdlcontacts._form.addrows1();_B._mdlcontacts._form.addcolumns12();_B._mdlcontacts._form.addrows1();_B._mdlcontacts._form.addcolumns12();_B._mdlcontacts._form.addrows1();_B._mdlcontacts._form.addcolumns2x6();_B._mdlcontacts._form.addrows1();_B._mdlcontacts._form.addcolumns2x6();await _B._mdlcontacts._form.buildgrid();_B._txtid.initialize(_B,"txtId","txtId");_B._txtid.setinputtype("legend");_B._txtid.settypeof("text");_B._txtid.setlabel("#");_B._txtid.setvalue("");_B._txtid.setrequired(true);_B._txtid.setprependicon("");_B._txtid.setappendicon("");_B._txtid.setenabled(true);_B._txtid.setvisible(false);_B._txtid.setreadonly(false);_B._txtid.setbackgroundcolor("");_B._txtid.setborder(false);_B._txtid.setbordercolor("");_B._txtid.setmarginaxytblr("");_B._txtid.setpaddingaxytblr("");_B._txtid.setparentid(_B._mdlcontacts._form.cellid("1","1"));await _B._txtid.addcomponent();_B._txtfullname.initialize(_B,"txtFullname","txtFullname");_B._txtfullname.setinputtype("legend");_B._txtfullname.settypeof("text");_B._txtfullname.setlabel("Full Name");_B._txtfullname.setvalue("");_B._txtfullname.setrequired(true);_B._txtfullname.setprependicon("");_B._txtfullname.setappendicon("");_B._txtfullname.setenabled(true);_B._txtfullname.setvisible(true);_B._txtfullname.setreadonly(false);_B._txtfullname.setbackgroundcolor("");_B._txtfullname.setborder(false);_B._txtfullname.setbordercolor("");_B._txtfullname.setmarginaxytblr("");_B._txtfullname.setpaddingaxytblr("");_B._txtfullname.setparentid(_B._mdlcontacts._form.cellid("2","1"));await _B._txtfullname.addcomponent();_B._txtmobile.initialize(_B,"txtMobile","txtMobile");_B._txtmobile.setinputtype("legend");_B._txtmobile.settypeof("tel");_B._txtmobile.setlabel("Mobile");_B._txtmobile.setvalue("");_B._txtmobile.setrequired(true);_B._txtmobile.setprependicon("");_B._txtmobile.setappendicon("");_B._txtmobile.setenabled(true);_B._txtmobile.setvisible(true);_B._txtmobile.setreadonly(false);_B._txtmobile.setbackgroundcolor("");_B._txtmobile.setborder(false);_B._txtmobile.setbordercolor("");_B._txtmobile.setmarginaxytblr("");_B._txtmobile.setpaddingaxytblr("");_B._txtmobile.setparentid(_B._mdlcontacts._form.cellid("3","1"));await _B._txtmobile.addcomponent();_B._txttelephone.initialize(_B,"txtTelephone","txtTelephone");_B._txttelephone.setinputtype("legend");_B._txttelephone.settypeof("tel");_B._txttelephone.setlabel("Telephone");_B._txttelephone.setvalue("");_B._txttelephone.setrequired(false);_B._txttelephone.setprependicon("");_B._txttelephone.setappendicon("");_B._txttelephone.setenabled(true);_B._txttelephone.setvisible(true);_B._txttelephone.setreadonly(false);_B._txttelephone.setbackgroundcolor("");_B._txttelephone.setborder(false);_B._txttelephone.setbordercolor("");_B._txttelephone.setmarginaxytblr("");_B._txttelephone.setpaddingaxytblr("");_B._txttelephone.setparentid(_B._mdlcontacts._form.cellid("3","2"));await _B._txttelephone.addcomponent();_B._txtemailaddress.initialize(_B,"txtEmailaddress","txtEmailaddress");_B._txtemailaddress.setinputtype("legend");_B._txtemailaddress.settypeof("email");_B._txtemailaddress.setlabel("Email Address");_B._txtemailaddress.setvalue("");_B._txtemailaddress.setrequired(true);_B._txtemailaddress.setprependicon("");_B._txtemailaddress.setappendicon("");_B._txtemailaddress.setenabled(true);_B._txtemailaddress.setvisible(true);_B._txtemailaddress.setreadonly(false);_B._txtemailaddress.setbackgroundcolor("");_B._txtemailaddress.setborder(false);_B._txtemailaddress.setbordercolor("");_B._txtemailaddress.setmarginaxytblr("");_B._txtemailaddress.setpaddingaxytblr("");_B._txtemailaddress.setparentid(_B._mdlcontacts._form.cellid("4","1"));await _B._txtemailaddress.addcomponent();_B._cbocategory.initialize(_B,"cboCategory","cboCategory");_B._cbocategory.setinputtype("legend");_B._cbocategory.setlabel("Category");_B._cbocategory.setplaceholder("Select Category");_B._cbocategory.setoptions("");_B._cbocategory.setvalue("");_B._cbocategory.setrequired(true);_B._cbocategory.setprependicon("");_B._cbocategory.setappendicon("./assets/plus-solid.svg");_B._cbocategory.setappendvisible(true);_B._cbocategory.setenabled(true);_B._cbocategory.setvisible(true);_B._cbocategory.setbackgroundcolor("");_B._cbocategory.setborder(false);_B._cbocategory.setbordercolor("");_B._cbocategory.setmarginaxytblr("");_B._cbocategory.setpaddingaxytblr("");_B._cbocategory.setparentid(_B._mdlcontacts._form.cellid("5","1"));await _B._cbocategory.addcomponent();_B._txtstreetaddress1.initialize(_B,"txtStreetaddress1","txtStreetaddress1");_B._txtstreetaddress1.setinputtype("legend");_B._txtstreetaddress1.settypeof("text");_B._txtstreetaddress1.setlabel("Street Address 1");_B._txtstreetaddress1.setvalue("");_B._txtstreetaddress1.setrequired(true);_B._txtstreetaddress1.setprependicon("");_B._txtstreetaddress1.setappendicon("");_B._txtstreetaddress1.setenabled(true);_B._txtstreetaddress1.setvisible(true);_B._txtstreetaddress1.setreadonly(false);_B._txtstreetaddress1.setbackgroundcolor("");_B._txtstreetaddress1.setborder(false);_B._txtstreetaddress1.setbordercolor("");_B._txtstreetaddress1.setmarginaxytblr("");_B._txtstreetaddress1.setpaddingaxytblr("");_B._txtstreetaddress1.setparentid(_B._mdlcontacts._form.cellid("6","1"));await _B._txtstreetaddress1.addcomponent();_B._txtstreetaddress2.initialize(_B,"txtStreetaddress2","txtStreetaddress2");_B._txtstreetaddress2.setinputtype("legend");_B._txtstreetaddress2.settypeof("text");_B._txtstreetaddress2.setlabel("Street Address 2");_B._txtstreetaddress2.setvalue("");_B._txtstreetaddress2.setrequired(false);_B._txtstreetaddress2.setprependicon("");_B._txtstreetaddress2.setappendicon("");_B._txtstreetaddress2.setenabled(true);_B._txtstreetaddress2.setvisible(true);_B._txtstreetaddress2.setreadonly(false);_B._txtstreetaddress2.setbackgroundcolor("");_B._txtstreetaddress2.setborder(false);_B._txtstreetaddress2.setbordercolor("");_B._txtstreetaddress2.setmarginaxytblr("");_B._txtstreetaddress2.setpaddingaxytblr("");_B._txtstreetaddress2.setparentid(_B._mdlcontacts._form.cellid("7","1"));await _B._txtstreetaddress2.addcomponent();_B._txtcity.initialize(_B,"txtCity","txtCity");_B._txtcity.setinputtype("legend");_B._txtcity.settypeof("text");_B._txtcity.setlabel("City");_B._txtcity.setvalue("");_B._txtcity.setrequired(true);_B._txtcity.setprependicon("");_B._txtcity.setappendicon("");_B._txtcity.setenabled(true);_B._txtcity.setvisible(true);_B._txtcity.setreadonly(false);_B._txtcity.setbackgroundcolor("");_B._txtcity.setborder(false);_B._txtcity.setbordercolor("");_B._txtcity.setmarginaxytblr("");_B._txtcity.setpaddingaxytblr("");_B._txtcity.setparentid(_B._mdlcontacts._form.cellid("8","1"));await _B._txtcity.addcomponent();_B._cboprovince.initialize(_B,"cboProvince","cboProvince");_B._cboprovince.setinputtype("legend");_B._cboprovince.setlabel("Province");_B._cboprovince.setplaceholder("Select Province");_B._cboprovince.setoptions("");_B._cboprovince.setvalue("");_B._cboprovince.setrequired(true);_B._cboprovince.setprependicon("");_B._cboprovince.setappendicon("./assets/plus-solid.svg");_B._cboprovince.setappendvisible(true);_B._cboprovince.setenabled(true);_B._cboprovince.setvisible(true);_B._cboprovince.setbackgroundcolor("");_B._cboprovince.setborder(false);_B._cboprovince.setbordercolor("");_B._cboprovince.setmarginaxytblr("");_B._cboprovince.setpaddingaxytblr("");_B._cboprovince.setparentid(_B._mdlcontacts._form.cellid("9","1"));await _B._cboprovince.addcomponent();_B._txtpostalcode.initialize(_B,"txtPostalcode","txtPostalcode");_B._txtpostalcode.setinputtype("legend");_B._txtpostalcode.settypeof("tel");_B._txtpostalcode.setlabel("Postal Code");_B._txtpostalcode.setvalue("");_B._txtpostalcode.setrequired(true);_B._txtpostalcode.setprependicon("");_B._txtpostalcode.setappendicon("");_B._txtpostalcode.setenabled(true);_B._txtpostalcode.setvisible(true);_B._txtpostalcode.setreadonly(false);_B._txtpostalcode.setbackgroundcolor("");_B._txtpostalcode.setborder(false);_B._txtpostalcode.setbordercolor("");_B._txtpostalcode.setmarginaxytblr("");_B._txtpostalcode.setpaddingaxytblr("");_B._txtpostalcode.setparentid(_B._mdlcontacts._form.cellid("9","2"));await _B._txtpostalcode.addcomponent();_B._txtstate.initialize(_B,"txtState","txtState");_B._txtstate.setinputtype("legend");_B._txtstate.settypeof("text");_B._txtstate.setlabel("State");_B._txtstate.setvalue("");_B._txtstate.setrequired(false);_B._txtstate.setprependicon("");_B._txtstate.setappendicon("");_B._txtstate.setenabled(true);_B._txtstate.setvisible(true);_B._txtstate.setreadonly(false);_B._txtstate.setbackgroundcolor("");_B._txtstate.setborder(false);_B._txtstate.setbordercolor("");_B._txtstate.setmarginaxytblr("");_B._txtstate.setpaddingaxytblr("");_B._txtstate.setparentid(_B._mdlcontacts._form.cellid("8","2"));await _B._txtstate.addcomponent();};this.cbocategory_append=function(_e) {if (_B==null) _B=this;var _sname,_tblx,_aid;_e.preventDefault();_sname=await _B._app.showswalinputwait("Add Category","Please type a new category to add below.","Save","Cancel");_sname=_sname.trim();if (_sname=="") { return ;}_B._app.pagepause();_tblx=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_tblx.initialize(_banano_sd5addressbook._dbname,"categories");_tblx.setschemafromdatamodel(_B._app._datamodels);_tblx.preparerecord();_tblx.setfield("id",_tblx.nextid());_tblx.setfield("name",_sname);_aid=await _tblx.create();if (_aid!="") {await _B.loadcategories(_B);await _B._cbocategory.setoptionsfrommap(_B._categoriesobject);_B._cbocategory.setvalue(_aid);} else {_aid=await _tblx.read_id_by("name",_sname);_B._cbocategory.setvalue(_aid);}_B._app.pageresume();};this.cboprovince_append=function(_e) {if (_B==null) _B=this;var _sname,_tblx,_aid;_e.preventDefault();_sname=await _B._app.showswalinputwait("Add Province","Please type a new province to add below.","Save","Cancel");_sname=_sname.trim();if (_sname=="") { return ;}_B._app.pagepause();_tblx=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_tblx.initialize(_banano_sd5addressbook._dbname,"provinces");_tblx.setschemafromdatamodel(_B._app._datamodels);_tblx.preparerecord();_tblx.setfield("id",_tblx.nextid());_tblx.setfield("name",_sname);_aid=await _tblx.create();if (_aid!="") {await _B.loadprovinces(_B);await _B._cboprovince.setoptionsfrommap(_B._provincesobject);_B._cboprovince.setvalue(_aid);} else {_aid=await _tblx.read_id_by("name",_sname);_B._cboprovince.setvalue(_aid);}_B._app.pageresume();};this.contactsview=function(Par) {u(Par).empty();_B._sdui5row1=BANC( banano_sithasodaisy5_sdui5row,_B, "sdui5row1", "sdui5row1",u(Par), {"AlignContent": "none","AlignItems": "none","AlignSelf": "none","BackgroundColor": "","CenterChildren": false,"Enabled": true,"Gap": "","GridCols": "12","GridColsLg": "","GridColsMd": "","GridColsSm": "","GridColsXl": "","GridColsXxl": "","Gutter": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","Height": "","JustifyContent": "none","JustifyItems": "none","JustifySelf": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "","PlaceContent": "none","PlaceItems": "none","PlaceSelf": "none","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawBorderColor": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderRadius": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderStyle": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderWidth": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawClasses": "","RawStyles": "","Rounded": "none","RowCols": "","RowColsLg": "","RowColsMd": "","RowColsSm": "","RowColsXl": "","RowColsXxl": "","Shadow": "none","Text": "","TextAlign": "none","TextColor": "","Visible": true,"Width": "","B4XLeft": 10,"B4XTop": 10,"B4XWidth": 580,"B4XHeight": 140,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._sdui5column1=BANC( banano_sithasodaisy5_sdui5column,_B, "sdui5column1", "sdui5column1",u('#sdui5row1'), {"AlignContent": "none","AlignItems": "none","AlignSelf": "","BackgroundColor": "","CenterChildren": false,"Enabled": true,"Height": "","JustifyContent": "none","JustifyItems": "none","JustifySelf": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","OffsetLg": "","OffsetMd": "","OffsetSm": "","OffsetXl": "","OffsetXxl": "","Order": "","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "","PlaceContent": "none","PlaceItems": "none","PlaceSelf": "none","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawBorderColor": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderRadius": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderStyle": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderWidth": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawClasses": "","RawStyles": "","Rounded": "none","Shadow": "none","Size": "12","SizeLg": "","SizeMd": "","SizeSm": "","SizeXl": "","SizeXxl": "","Text": "","TextAlign": "none","TextColor": "","Visible": true,"Width": "","B4XLeft": 20,"B4XTop": 20,"B4XWidth": 560,"B4XHeight": 120,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._tblcontacts=BANC( banano_sithasodaisy5_sdui5table,_B, "tblcontacts", "tblcontacts",u('#sdui5column1'), {"AddNewTooltip": "Add a new","AlphaChooserColumn": "name","AlphaChooserHeight": "8","AlphaChooserTextColor": "#ffffff","BackTooltip": "Go back to dashboard","BadgesOutlined": false,"BadgesSize": "md","ButtonSize": "sm","ButtonsOutlined": false,"CloneTooltip": "","ColumnChooserColor": "primary","ColumnChooserHeight": "8","ColumnChooserTextColor": "#ffffff","ComponentSize": "sm","DeleteAllTooltip": "","DeleteSingleTooltip": "","DeleteTooltip": "Delete","DownloadToolbarTooltip": "","DownloadTooltip": "","EditTooltip": "Edit","ExcelTitle": "Table","ExportToCsv": false,"ExportToCsvTooltip": "","ExportToPdf": false,"ExportToPdfTooltip": "","ExportToXls": false,"ExportToXlsTooltip": "","FlexWrapActions": false,"FontSize": "11","GridTooltip": "","HasAddnew": true,"HasAlphaChooser": true,"HasBack": true,"HasClone": true,"HasColumnChooser": true,"HasDelete": true,"HasDeleteAll": false,"HasDeleteSingle": false,"HasDownload": false,"HasEdit": true,"HasExpand": false,"HasExportMenu": false,"HasFilter": false,"HasGrid": false,"HasMenu": false,"HasRefresh": true,"HasSaveSingle": false,"HasSearch": true,"HasToolbarDownload": false,"HasToolbarUpload": false,"HasUpload": false,"Hover": false,"IsCompact": true,"IsNormal": false,"IsZebra": false,"ItemsPerPage": "5","LowerCase": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MenuTooltip": "","MultipleFiles": false,"NormalCase": false,"Orientation": "landscape","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageBreakRepeat": "","PageSize": "a4","Pagination": true,"ParentID": "","PdfTheme": "striped","RawAttributes": "","RawClasses": "","RawStyles": "","ReadMe": "Child Item _toolbar|_actions","RefreshTooltip": "Refresh","SaveSingleTooltip": "","SearchSize": "sm","SearchWidth": "300px","SelectAll": false,"Shadow": "sm","ShowTotalRecords": true,"Title": "Table","TitleVisible": true,"TooltipColor": "primary","Unit": "pt","UploadToolbarTooltip": "","UploadTooltip": "","Visible": true,"WrapHeadings": false,"B4XLeft": 30,"B4XTop": 30,"B4XWidth": 540,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._mdlcontacts=BANC( banano_sithasodaisy5_sdui5modal,_B, "mdlcontacts", "mdlcontacts",u(Par), {"ActionsVisible": true,"ActionType": "yes-no","Backdrop": true,"BottonsWidth": "22","ButtonsRounded": "md","ButtonsShadow": "md","CancelCaption": "Cancel","CancelColor": "gray","CancelLoading": false,"CancelTextColor": "#ffffff","CancelVisible": true,"Closable": true,"Enabled": true,"FullScreen": false,"Glass": false,"Height": "fit","Icon": "","IconColor": "","IconSize": "","IconVisible": false,"LGMoveFrom": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MDMoveFrom": "none","MoveFrom": "middle","NoCaption": "Cancel","NoColor": "error","NoLoading": false,"NoTextColor": "#ffffff","NoVisible": true,"Open": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawClasses": "","RawHtml": "","RawStyles": "","ReadMe": "Child Item _box|_title|_form|_action","SMMoveFrom": "none","Title": "Modal Dialog","TitleTextColor": "","Visible": true,"Width": "700px","XLMoveFrom": "none","YesCaption": "Save","YesColor": "success","YesLoading": false,"YesTextColor": "#ffffff","B4XLeft": 10,"B4XTop": 160,"B4XWidth": 100,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});};}function banano_sd5addressbook_pgindex() {var _B;this._app=(typeof banano_sithasodaisy5_sdui5app === 'function') ? new banano_sithasodaisy5_sdui5app(): null;this.initialize=function() {if (_B==null) _B=this;await _B._app.initialize(_B);this.baselayout(_B._app.gethere());_B._appnavbar.settitle(_banano_sd5addressbook._apptitle);await _B.adddatabaseschemas(_B);await _B.createdrawermenu(_B);_B._app.pageresume();_banano_sd5addressbook_pgcontacts.show(_B._app);};this.appdrawer_opened=function(_status) {if (_B==null) _B=this;_B._appnavbar._hamburger.setactive(_status);};this.createdrawermenu=function() {if (_B==null) _B=this;_B._drawermenu.additemchild("","pg-contacts","","Contacts");_B._drawermenu.additemparent("","settings","","Settings");_B._drawermenu.additemchild("settings","pg-categories","","Categories");_B._drawermenu.additemchild("settings","pg-provinces","","Provinces");};this.adddatabaseschemas=function() {if (_B==null) _B=this;var _dbcategories,_dbprovinces,_dbcontacts;_B._app.adddatamodel("categories","id",false);_B._app.adddatamodelstrings("categories",["id","name"]);_dbcategories=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_dbcategories.initialize(_banano_sd5addressbook._dbname,"categories");_dbcategories.setschemafromdatamodel(_B._app._datamodels);await _dbcategories.schemacreatetable();_B._app.adddatamodel("provinces","id",false);_B._app.adddatamodelstrings("provinces",["id","name"]);_dbprovinces=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_dbprovinces.initialize(_banano_sd5addressbook._dbname,"provinces");_dbprovinces.setschemafromdatamodel(_B._app._datamodels);await _dbprovinces.schemacreatetable();_B._app.adddatamodel("contacts","id",false);_B._app.adddatamodelstrings("contacts",["id","fullname","mobile","telephone","emailaddress","category","streetaddress1","streetaddress2","city","state","province","postalcode"]);_dbcontacts=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_dbcontacts.initialize(_banano_sd5addressbook._dbname,"contacts");_dbcontacts.setschemafromdatamodel(_B._app._datamodels);await _dbcontacts.schemacreatetable();};this.appnavbar_burgerclick=function(_value) {if (_B==null) _B=this;_B._appdrawer.opendrawer(_value);};this.drawermenu_itemclick=function(_item) {if (_B==null) _B=this;var _sprefix,_ssuffix;_B._appnavbar.setvisible(true);_B._appdrawer.opendrawer(false);_B._appnavbar._hamburger.setactive(false);_sprefix=_B._app._ui.mvfield(_item,1,"-");_ssuffix=_B._app._ui.mvfield(_item,2,"-");switch ("" + _sprefix) {case "" + "pg":await _B._drawermenu.setitemactive(_item);switch ("" + _ssuffix) {case "" + "categories":_banano_sd5addressbook_pgcategories.show(_B._app);break;case "" + "provinces":_banano_sd5addressbook_pgprovinces.show(_B._app);break;case "" + "contacts":_banano_sd5addressbook_pgcontacts.show(_B._app);break;case "" + "page":break;case "" + "users":break;case "" + "preferences":break;}break;}};this.btnlogoff_click=function(_e) {if (_B==null) _B=this;};this.updatetitle=function(_s) {if (_B==null) _B=this;_B._appnavbar.settitle(_s);};this.updateusername=function(_s) {if (_B==null) _B=this;};this.updateuseravatar=function(_s) {if (_B==null) _B=this;};this.appnavbar_titleclick=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._app.showtoastsuccess("Title Click!");};this.shownavbar=function() {if (_B==null) _B=this;_B._appnavbar.setvisible(true);};this.hidenavbar=function() {if (_B==null) _B=this;_B._appnavbar.setvisible(false);};this.opendrawer=function() {if (_B==null) _B=this;_B._appdrawer.opendrawer(true);};this.closedrawer=function() {if (_B==null) _B=this;_B._appdrawer.opendrawer(false);};this.closedrawerbyforce=function() {if (_B==null) _B=this;_B._appdrawer.forceclose();};this.baselayout=function(Par) {_B._appdrawer=BANC( banano_sithasodaisy5_sdui5drawer,_B, "appdrawer", "appdrawer",u(Par), {"BackgroundColor": "base-100","Enabled": true,"LgOpen": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MdOpen": false,"Open": false,"Overlay": true,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawClasses": "","RawStyles": "","ReadMe": "Child Item '_content'","RightSide": false,"SmOpen": false,"Visible": true,"Width": "80","XlOpen": false,"B4XLeft": 10,"B4XTop": 10,"B4XWidth": 580,"B4XHeight": 580,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._drawermenu=BANC( banano_sithasodaisy5_sdui5menu,_B, "drawermenu", "drawermenu",u('#appdrawer'), {"BackgroundColor": "base-100","Card": false,"CheckedColor": "success","ClosePopupOnClick": false,"Direction": "vertical","Dropdown": false,"DropdownContent": false,"DropDownHover": false,"DropdownOpen": false,"DropdownPlacement": "bottom","Enabled": true,"HasCheckBox": false,"Height": "","ItemActiveColor": "","ItemColor": "","ItemFocusColor": "","ItemHoverColor": "","LgDirection": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MaxHeight": "","MaxWidth": "","MdDirection": "none","MinHeight": "","MinWidth": "","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appdrawer_sidecontent","PopOver": false,"Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawClasses": "px-4 py-0","RawItemClasses": "","RawItemStyles": "","RawStyles": "","Rounded": "none","RoundedBox": false,"RoundedItems": false,"Shadow": "none","Size": "none","SmDirection": "none","TextColor": "base-content","Visible": true,"Width": "full","XlDirection": "none","B4XLeft": 30,"B4XTop": 20,"B4XWidth": 260,"B4XHeight": 560,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._appnavbar=BANC( banano_sithasodaisy5_sdui5navbar,_B, "appnavbar", "appnavbar",u('#appdrawer'), {"BackgroundColor": "base-200","BackLabel": "Back","BackLabelVisible": false,"Enabled": true,"Glass": false,"HasBackButton": false,"HasBurger": true,"HasLogo": true,"Height": "16","HideHamburger": false,"HideHamburgerOnLargeScreen": false,"HideLogo": false,"HideLogoOnLargeScreen": false,"HideTitle": false,"HideTitleOnLargeScreen": false,"LogoHeight": "40px","LogoImage": "./assets/600by600.jpg","LogoMask": "squircle","LogoWidth": "40px","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appdrawer_content","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawClasses": "","RawStyles": "","ReadMe": "Child Items - _left/_logo/_burger/_center/_right","Rounded": "none","Shadow": "lg","Sticky": true,"TextColor": "","Title": "","TitlePosition": "center","Top": "0","Visible": true,"Width": "full","ZIndex": "30","B4XLeft": 320,"B4XTop": 20,"B4XWidth": 260,"B4XHeight": 60,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._pageview=BANC( banano_sithasodaisy5_sdui5container,_B, "pageview", "pageview",u('#appdrawer'), {"BackgroundColor": "","BackgroundImage": "","CenterChildren": false,"Container": false,"ContainerFluid": false,"ContainerLg": false,"ContainerMd": false,"ContainerSm": false,"ContainerXl": false,"ContainerXxl": false,"Enabled": true,"Gradient": "","GradientActive": false,"GradientColor1": "rgba(248,97,148,0.0)","GradientColor2": "rgba(150,137,24,0.0)","Height": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MaxHeight": "","MaxWidth": "","MinHeight": "","MinWidth": "","PaddingAXYTBLR": "a=20px; x=?; y=?; t=?; b=?; l=?; r=?","PageView": false,"ParentID": "appdrawer_content","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawBorderColor": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderRadius": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderStyle": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderWidth": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawClasses": "","RawStyles": "","Rounded": "none","Shadow": "none","Text": "","TextAlign": "none","TextColor": "","Visible": true,"Width": "","B4XLeft": 320,"B4XTop": 90,"B4XWidth": 260,"B4XHeight": 490,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});};}function banano_sd5addressbook_pgprovinces() {var _B;this._app=(typeof banano_sithasodaisy5_sdui5app === 'function') ? new banano_sithasodaisy5_sdui5app(): null;this._mode="";this._todeleteid="";this._todeletename="";this._name="provinces";this._title="Provinces";this._icon="./assets/page.svg";this._color="#000000";this._txtid=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this._txtname=(typeof banano_sithasodaisy5_sdui5textbox === 'function') ? new banano_sithasodaisy5_sdui5textbox(): null;this.show=function(_mainapp) {if (_B==null) _B=this;_B._app=_mainapp;_B._app.pagepause();this.provincesview(_B._app._pageview);await _B.buildprovincestable(_B);await _B.buildprovincesmodal(_B);await _B.mountprovinces(false,_B);_B._app.pageresume();};this.buildprovincestable=function() {if (_B==null) _B=this;_B._tblprovinces.settitle("Provinces");_B._tblprovinces.sethasalphachooser(false);_B._tblprovinces.setalphachoosercolumn("");_B._tblprovinces.sethascolumnchooser(false);_B._tblprovinces.setaddnewtooltip("Add a Province");_B._tblprovinces.setrefreshtooltip("Refresh Provinces");_B._tblprovinces.setbacktooltip("Go back to Dashboard");_B._tblprovinces.sethasedit(true);_B._tblprovinces.setedittooltip("Edit Province");_B._tblprovinces.sethasclone(true);_B._tblprovinces.setclonetooltip("Clone Province");_B._tblprovinces.sethasdelete(true);_B._tblprovinces.setdeletetooltip("Delete Province");_B._tblprovinces.addcolumn("name","Name");_B._tblprovinces.adddesignercolums();_B._tblprovinces.movebackbutton();};this.mountprovinces=function(_bafterchange) {if (_B==null) _B=this;var _db;_B._app.pagepause();_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"provinces");_db.setschemafromdatamodel(_B._app._datamodels);_db.clear_where();_db.add_order_by("name");await _db.select_all();if (_bafterchange==false) {await _B._tblprovinces.setitemspaginate(_db._result);} else {_B._tblprovinces._originals=_db._result;}_B._app.pageresume();};this.tblprovinces_add=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._app.pagepause();await _B.addmode(_B);_B._app.pageresume();};this.tblprovinces_refresh=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._app.pagepause();await _B.mountprovinces(false,_B);_B._app.pageresume();};this.tblprovinces_back=function(_e) {if (_B==null) _B=this;_e.preventDefault();_banano_sd5addressbook_pgcontacts.show(_B._app);};this.addmode=function() {if (_B==null) _B=this;_B._mode="C";_B._mdlprovinces.settitle("Add Province");await _B.setprovincesdefaults(_B);_B._txtid.setvalue(_B._app.nextid());_B._mdlprovinces.show();_B._txtname.focus();};this.editmode=function(_item) {if (_B==null) _B=this;var _sid,_sname;_B._mode="U";_B._mdlprovinces.settitle("Edit Province");await _B.setprovincesdefaults(_B);_sid=_item["id"];_sname=_item["name"];_B._txtid.setvalue(_sid);_B._txtname.setvalue(_sname);_B._mdlprovinces.show();_B._txtname.focus();};this.clonemode=function(_item) {if (_B==null) _B=this;var _sid,_sname;_B._mode="C";_B._mdlprovinces.settitle("Clone Province");await _B.setprovincesdefaults(_B);_item["id"]=_B._app.nextid();_sid=_item["id"];_sname=_item["name"];_B._txtid.setvalue(_sid);_B._txtname.setvalue(_sname);_B._mdlprovinces.show();_B._txtname.focus();};this.tblprovinces_editrow=function(_row,_item) {if (_B==null) _B=this;var _sid,_db,_rec;_B._app.pagepause();_sid=_item["id"];_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"provinces");_db.setschemafromdatamodel(_B._app._datamodels);_rec=await _db.read(_sid);await _B.editmode(_rec,_B);_B._app.pageresume();};this.tblprovinces_deleterow=function(_row,_item) {if (_B==null) _B=this;var _smsg,_bconfirm,_db;_B._todeleteid=_item["id"];_B._todeletename=_item["name"];_smsg="<h2 class=\"text-2xl font-bold mt-2\">" + _B._todeletename + "</h2><br>Are you sure that you want to delete this Province?";_bconfirm=await _B._app.showswalconfirmwait("Confirm Delete",_smsg,"Yes","No");if (_bconfirm==false) { return ;}_B._app.pagepause();_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"provinces");_db.setschemafromdatamodel(_B._app._datamodels);await _db.delete(_B._todeleteid);await _B.mountprovinces(false,_B);_B._app.pageresume();};this.tblprovinces_clonerow=function(_row,_item) {if (_B==null) _B=this;var _sid,_db,_rec;_B._app.pagepause();_sid=_item["id"];_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"provinces");_db.setschemafromdatamodel(_B._app._datamodels);_rec=await _db.read(_sid);await _B.clonemode(_rec,_B);_B._app.pageresume();};this.setprovincesdefaults=function() {if (_B==null) _B=this;_B._txtid.setvalue("");_B._txtname.setvalue("");};this.getprovincesvalid=function() {if (_B==null) _B=this;if (_B._txtid.isblank()) { return false;}if (_B._txtname.isblank()) { return false;}return true;};this.mdlprovinces_yes_click=function(_e) {if (_B==null) _B=this;var _bvalid,_sid,_sname,_db,_nid;_e.preventDefault();_bvalid=await _B.getprovincesvalid(_B);if (_bvalid==false) { return ;}_B._app.pagepause();_sid=_B._txtid.getvalue();_sname=_B._txtname.getvalue();_db=(typeof banano_sd5addressbook_sduiwebsql === 'function') ? new banano_sd5addressbook_sduiwebsql(): null;_db.initialize(_banano_sd5addressbook._dbname,"provinces");_db.setschemafromdatamodel(_B._app._datamodels);_db.preparerecord();_db.setfield("id",_sid);_db.setfield("name",_sname);switch ("" + _B._mode) {case "" + "C":_nid=await _db.create();break;case "" + "U":_nid=await _db.update();break;}_B._app.pageresume();if (_nid!="") {await _B._app.showswalsuccesswait("Province","The province has been saved.","Ok");} else {await _B._app.showswalerrorwait("Province","The province could not be saved, please try again.","Ok");return;}_B._mdlprovinces.close();_B._app.pagepause();await _B.mountprovinces(false,_B);_B._app.pageresume();};this.mdlprovinces_no_click=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._mdlprovinces.close();_B._app.pagepause();await _B.mountprovinces(false,_B);_B._app.pageresume();};this.buildprovincesmodal=function() {if (_B==null) _B=this;_B._mdlprovinces.setheight("fit");_B._mdlprovinces.setwidth("700px");_B._mdlprovinces._form.clear();_B._mdlprovinces._form.addrows1();_B._mdlprovinces._form.addcolumns12();_B._mdlprovinces._form.addrows1();_B._mdlprovinces._form.addcolumns12();await _B._mdlprovinces._form.buildgrid();_B._txtid.initialize(_B,"txtId","txtId");_B._txtid.setinputtype("legend");_B._txtid.settypeof("text");_B._txtid.setlabel("#");_B._txtid.setvalue("");_B._txtid.setrequired(true);_B._txtid.setprependicon("");_B._txtid.setappendicon("");_B._txtid.setenabled(true);_B._txtid.setvisible(false);_B._txtid.setreadonly(false);_B._txtid.setbackgroundcolor("");_B._txtid.setborder(false);_B._txtid.setbordercolor("");_B._txtid.setmarginaxytblr("");_B._txtid.setpaddingaxytblr("");_B._txtid.setparentid(_B._mdlprovinces._form.cellid("1","1"));await _B._txtid.addcomponent();_B._txtname.initialize(_B,"txtName","txtName");_B._txtname.setinputtype("legend");_B._txtname.settypeof("text");_B._txtname.setlabel("Name");_B._txtname.setvalue("");_B._txtname.setrequired(true);_B._txtname.setprependicon("");_B._txtname.setappendicon("");_B._txtname.setenabled(true);_B._txtname.setvisible(true);_B._txtname.setreadonly(false);_B._txtname.setbackgroundcolor("");_B._txtname.setborder(false);_B._txtname.setbordercolor("");_B._txtname.setmarginaxytblr("");_B._txtname.setpaddingaxytblr("");_B._txtname.setparentid(_B._mdlprovinces._form.cellid("2","1"));await _B._txtname.addcomponent();};this.provincesview=function(Par) {u(Par).empty();_B._sdui5row1=BANC( banano_sithasodaisy5_sdui5row,_B, "sdui5row1", "sdui5row1",u(Par), {"AlignContent": "none","AlignItems": "none","AlignSelf": "none","BackgroundColor": "","CenterChildren": false,"Enabled": true,"Gap": "","GridCols": "12","GridColsLg": "","GridColsMd": "","GridColsSm": "","GridColsXl": "","GridColsXxl": "","Gutter": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","Height": "","JustifyContent": "none","JustifyItems": "none","JustifySelf": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "","PlaceContent": "none","PlaceItems": "none","PlaceSelf": "none","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawBorderColor": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderRadius": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderStyle": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderWidth": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawClasses": "","RawStyles": "","Rounded": "none","RowCols": "","RowColsLg": "","RowColsMd": "","RowColsSm": "","RowColsXl": "","RowColsXxl": "","Shadow": "none","Text": "","TextAlign": "none","TextColor": "","Visible": true,"Width": "","B4XLeft": 10,"B4XTop": 10,"B4XWidth": 580,"B4XHeight": 140,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._sdui5column1=BANC( banano_sithasodaisy5_sdui5column,_B, "sdui5column1", "sdui5column1",u('#sdui5row1'), {"AlignContent": "none","AlignItems": "none","AlignSelf": "","BackgroundColor": "","CenterChildren": false,"Enabled": true,"Height": "","JustifyContent": "none","JustifyItems": "none","JustifySelf": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","OffsetLg": "","OffsetMd": "","OffsetSm": "","OffsetXl": "","OffsetXxl": "","Order": "","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "","PlaceContent": "none","PlaceItems": "none","PlaceSelf": "none","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawBorderColor": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderRadius": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderStyle": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawBorderWidth": "a=?; t=?; r=?; b=?; l=?; tl=?; tr=?; bl=?; br=?; x=?; y=?","RawClasses": "","RawStyles": "","Rounded": "none","Shadow": "none","Size": "12","SizeLg": "","SizeMd": "","SizeSm": "","SizeXl": "","SizeXxl": "","Text": "","TextAlign": "none","TextColor": "","Visible": true,"Width": "","B4XLeft": 20,"B4XTop": 20,"B4XWidth": 560,"B4XHeight": 120,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._tblprovinces=BANC( banano_sithasodaisy5_sdui5table,_B, "tblprovinces", "tblprovinces",u('#sdui5column1'), {"AddNewTooltip": "Add a new","AlphaChooserColumn": "name","AlphaChooserHeight": "8","AlphaChooserTextColor": "#ffffff","BackTooltip": "Go back to dashboard","BadgesOutlined": false,"BadgesSize": "md","ButtonSize": "sm","ButtonsOutlined": false,"CloneTooltip": "","ColumnChooserColor": "primary","ColumnChooserHeight": "8","ColumnChooserTextColor": "#ffffff","ComponentSize": "sm","DeleteAllTooltip": "","DeleteSingleTooltip": "","DeleteTooltip": "Delete","DownloadToolbarTooltip": "","DownloadTooltip": "","EditTooltip": "Edit","ExcelTitle": "Table","ExportToCsv": false,"ExportToCsvTooltip": "","ExportToPdf": false,"ExportToPdfTooltip": "","ExportToXls": false,"ExportToXlsTooltip": "","FlexWrapActions": false,"FontSize": "11","GridTooltip": "","HasAddnew": true,"HasAlphaChooser": true,"HasBack": true,"HasClone": true,"HasColumnChooser": true,"HasDelete": true,"HasDeleteAll": false,"HasDeleteSingle": false,"HasDownload": false,"HasEdit": true,"HasExpand": false,"HasExportMenu": false,"HasFilter": false,"HasGrid": false,"HasMenu": false,"HasRefresh": true,"HasSaveSingle": false,"HasSearch": true,"HasToolbarDownload": false,"HasToolbarUpload": false,"HasUpload": false,"Hover": false,"IsCompact": true,"IsNormal": false,"IsZebra": false,"ItemsPerPage": "5","LowerCase": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MenuTooltip": "","MultipleFiles": false,"NormalCase": false,"Orientation": "landscape","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageBreakRepeat": "","PageSize": "a4","Pagination": true,"ParentID": "","PdfTheme": "striped","RawAttributes": "","RawClasses": "","RawStyles": "","RefreshTooltip": "Refresh","SaveSingleTooltip": "","SearchSize": "sm","SearchWidth": "300px","SelectAll": false,"Shadow": "sm","ShowTotalRecords": true,"Title": "Table","TitleVisible": true,"TooltipColor": "primary","Unit": "pt","UploadToolbarTooltip": "","UploadTooltip": "","Visible": true,"WrapHeadings": false,"B4XLeft": 30,"B4XTop": 30,"B4XWidth": 540,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B._mdlprovinces=BANC( banano_sithasodaisy5_sdui5modal,_B, "mdlprovinces", "mdlprovinces",u(Par), {"ActionsVisible": true,"ActionType": "yes-no","Backdrop": true,"BottonsWidth": "22","ButtonsRounded": "md","ButtonsShadow": "md","CancelCaption": "Cancel","CancelColor": "gray","CancelLoading": false,"CancelTextColor": "#ffffff","CancelVisible": true,"Closable": true,"Enabled": true,"FullScreen": false,"Glass": false,"Height": "fit","Icon": "","IconColor": "","IconSize": "","IconVisible": false,"LGMoveFrom": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MDMoveFrom": "none","MoveFrom": "middle","NoCaption": "Cancel","NoColor": "error","NoLoading": false,"NoTextColor": "#ffffff","NoVisible": true,"Open": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "","Position": "t=?; b=?; r=?; l=?","PositionStyle": "none","RawAttributes": "","RawClasses": "","RawHtml": "","RawStyles": "","ReadMe": "Child Item _box|_title|_form|_action","SMMoveFrom": "none","Title": "Modal Dialog","TitleTextColor": "","Visible": true,"Width": "700px","XLMoveFrom": "none","YesCaption": "Save","YesColor": "success","YesLoading": false,"YesTextColor": "#ffffff","B4XLeft": 10,"B4XTop": 160,"B4XWidth": 100,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});};}function banano_sd5addressbook_sduiwebsql() {var _B=this;_B._db_bool="BOOL";_B._db_int="INT";_B._db_string="STRING";_B._db_real="REAL";_B._db_blob="BLOB";_B._db_float="FLOAT";_B._db_integer="INTEGER";_B._db_text="TEXT";_B._db_double="DOUBLE";_B._db_file="TEXT";_B._db_longtext="TEXT";_B._useapikey=false;_B._schema={};_B._tablename="";_B._primarykey="";_B._response="";_B._result=[];_B._command="";_B._types=[];_B._args=[];_B._query="";_B._json="";_B._error="";_B._affectedrows=0;_B._record={};_B._ok=false;_B._auto="";_B._dbase="";_B._view="";_B._action="";_B._bcount=false;_B._usebrackets=false;_B._wherefield={};_B._ops=[];_B._orderbyl=[];_B._flds=[];_B._rowcount=0;_B._lastposition=0;_B._resultjson="";_B._recordjson="";_B._displayfield="";_B._singular="";_B._plural="";_B._displayvalue="";_B._sapikey="";_B._db=null;_B._isopen=false;_B._ownfilter=[];_B._showlogs=false;_B.initialize=function(_dbname,_tblname) {var _localname;_B._dbase=_dbname;_B._schema={};_B._tablename=_tblname;_B._primarykey="";_B._auto="";_B._response="";_B._result.length=0;_B._command="";_B._types.length=0;_B._args.length=0;_B._query="";_B._json="";_B._error="";_B._affectedrows=0;_B._record={};_B._ok=false;_B._ownfilter.length=0;_B._view="";_B._action="";_B._bcount=false;_B._usebrackets=true;_B._orderbyl.length=0;_B._wherefield={};_B._flds.length=0;_B._ops.length=0;_B._rowcount=0;_B._lastposition=-1;_B.clear_where(_B);if (_B._isopen==false) {_localname=_B._dbase;_B._db_localname=_localname;await BananoSQLOpen(_localname);_B._isopen=true;}_B._showlogs=false;return _B;};_B.addfilter=function(_fltr) {_fltr=_fltr.trim();if (_fltr!="") {_B._ownfilter.push(_fltr);}};_B.setapikey=function(_s) {_B._sapikey=_s;};_B.getapikey=function() {return _B._sapikey;};_B.reset=function() {_B._record={};_B._result.length=0;_B._command="";_B._ops.length=0;_B._types.length=0;_B._args.length=0;_B._query="";_B._response="";_B._error="";_B._affectedrows=0;_B._json="";_B._ok=false;_B._lastposition=-1;_B._rowcount=0;_B._ownfilter.length=0;};_B.setschemafromdatamodel=function(_models) {var _tm,_fldsx,_fm,_fldtype,_fldname;if ((_B._tablename in _models)==false) {throw "SetSchemaFromDataModel." + _B._tablename + " data-model does NOT exist!";return;}_tm=_models[_B._tablename];_B._primarykey=_tm["pk"]===undefined? "":_tm["pk"];_B._auto=_tm["ai"]===undefined? "":_tm["ai"];_B._schema={};_fldsx=_tm["fields"];var _fmindex=0;for (var _fmindex=0;_fmindex<_fldsx.length;_fmindex++) {_fm=_fldsx[_fmindex];_fldtype=_fm["type"];_fldname=_fm["name"];switch ("" + _fldtype) {case "" + "TEXT":case "" + "STRING":case "" + "LONGTEXT":case "" + "FILE":_B.schemaaddtext1(_fldname,_B);break;case "" + "BLOB":_B.schemaaddblob1(_fldname,_B);break;case "" + "INT":case "" + "INTEGER":_B.schemaaddint1(_fldname,_B);break;case "" + "DOUBLE":case "" + "REAL":case "" + "FLOAT":_B.schemaadddouble1(_fldname,_B);break;case "" + "BOOL":_B.schemaaddboolean1(_fldname,_B);break;}}};_B.gettablenames=function() {_B.reset(_B);_B._query="SHOW TABLES FROM " + _B._dbase + "";_B._command="select";};_B.clear_where=function() {_B._wherefield={};_B._ops.length=0;_B._orderbyl.length=0;_B._flds.length=0;_B._ownfilter.length=0;};_B.add_field=function(_fld) {_B._flds.push(_fld);return _B;};_B.add_fields=function(_fields) {var _fld;var _fldindex=0;for (var _fldindex=0;_fldindex<_fields.length;_fldindex++) {_fld=_fields[_fldindex];_B.add_field(_fld,_B);}return _B;};_B.add_where=function(_fld,_operator,_value) {_B._wherefield[_fld]=_value;_B._ops.push(_operator);return _B;};_B.add_order_by=function(_fld) {_B._orderbyl.push(_fld);return _B;};_B.getdatabases=function() {_B.reset(_B);_B._query="SHOW DATABASES";_B._command="select";};_B.createindex=function(_idxfld) {_B.reset(_B);_B._query="CREATE INDEX " + _B._tablename + "" + _idxfld + " ON " + _B._tablename + "(" + _idxfld + ")";_B._command="execute";};_B.showcreatetable=function() {_B.reset(_B);_B._query="SHOW CREATE TABLE " + _B._tablename + "";_B._command="select";_B._bcount=true;};_B.getcount=function() {_B.reset(_B);_B._query="select count(*) as records from " + _B._tablename + "";_B._command="select";_B._bcount=true;return _B;};_B.getsum=function() {_B.reset(_B);_B._query="select sum(" + _B._primarykey + ") as " + _B._primarykey + " from " + _B._tablename + "";_B._command="select";return _B;};_B.setcallback=function(_v,_a) {_B._view=_v;_B._action=_a;};_B.schemaaddblob=function(_bools) {var _b;var _bindex=0;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_blob;}return _B;};_B.schemaaddblob1=function(_b) {_B._schema[_b]=_B._db_blob;return _B;};_B.schemaaddboolean=function(_bools) {var _b;var _bindex=0;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_bool;}return _B;};_B.schemaaddboolean1=function(_b) {_B._schema[_b]=_B._db_bool;return _B;};_B.schemaadddouble1=function(_b) {_B._schema[_b]=_B._db_double;return _B;};_B.schemaadddouble=function(_bools) {var _b;var _bindex=0;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_double;}return _B;};_B.schemaaddfloat1=function(_b) {_B._schema[_b]=_B._db_float;return _B;};_B.schemaaddfloat=function(_bools) {var _b;var _bindex=0;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_float;}return _B;};_B.schemaaddtext1=function(_b) {_B._schema[_b]=_B._db_string;return _B;};_B.schemaaddtext=function(_bools) {var _b;var _bindex=0;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_string;}return _B;};_B.schemaaddint1=function(_b) {_B._schema[_b]=_B._db_int;return _B;};_B.schemaaddint=function(_bools) {var _b;var _bindex=0;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_int;}return _B;};_B.schemaaddfield=function(_fldname,_fldtype) {_B._schema[_fldname]=_fldtype;};_B.setfield=function(_fldname,_fldvalue) {var _dt;if ((_fldname in _B._schema)) {_dt=_B._schema[_fldname];switch ("" + _dt) {case "" + _B._db_bool:_fldvalue=_B.cbool(_fldvalue,_B);break;case "" + _B._db_int:_fldvalue=_B.cint(_fldvalue,_B);break;case "" + _B._db_string:_fldvalue=_B.cstr(_fldvalue,_B);break;case "" + _B._db_real:_fldvalue=_B.cdbl(_fldvalue,_B);break;case "" + _B._db_float:_fldvalue=_B.cdbl(_fldvalue,_B);break;case "" + _B._db_integer:_fldvalue=_B.cint(_fldvalue,_B);break;case "" + _B._db_text:case "" + _B._db_longtext:_fldvalue=_B.cstr(_fldvalue,_B);break;case "" + _B._db_double:_fldvalue=_B.cdbl(_fldvalue,_B);break;}}_B._record[_fldname]=_fldvalue;};_B.instr=function(_stext,_sfind) {return _stext.toLowerCase().indexOf(_sfind.toLowerCase());};_B.val=function(_value) {var _sout,_mout,_slen,_i;_value=_B.cstr(_value,_B);_value=_value.trim();if (_value=="") {_value="0";}try {_sout="";_mout="";_slen=_value.length;_i=0;var _i=0;for (_i=0;_i<=_slen-1;_i++) {_mout=_value.charAt(_i);if (_B.instr("0123456789.-",_mout,_B)!=-1) {_sout=_sout+_mout;}}return _sout;} catch(err) {return _value;}};_B.numberformat2fix=function(_number,_minimumintegers,_maximumfractions,_minimumfractions,_groupingused) {return BANanoExec("NumberFormat2", window, _number,_minimumintegers,_maximumfractions,_minimumfractions,_groupingused);};_B.cdbl=function(_o) {var _out,_nvalue,_nout;_o=_B.val(_o,_B);_out=_B.numberformat2fix(_o,0,2,2,false,_B);_nvalue=_B.cstr(_out,_B);_nvalue=_nvalue.split(",").join(".");_nvalue=_B.val(_nvalue,_B);_nout=parseFloat(_nvalue);return _nout;};_B.cint=function(_o) {_o=_B.val(_o,_B);return parseInt(_o);};_B.cbool=function(_v) {var _s;if (is.null(_v) || is.undefined(_v)) {_v=false;}if (typeof _v=="string" || typeof _v=="object") {_s=_v+"";_s=_s.toLowerCase();_s=_s.trim();if (_s=="") { return false;}if (_s=="false") { return false;}if (_s=="true") { return true;}if (_s=="1") { return true;}if (_s=="y") { return true;}if (_s=="0") { return false;}if (_s=="n") { return false;}if (_s=="no") { return false;}if (_s=="yes") { return true;}if (_s=="on") { return true;}if (_s=="off") { return false;}}return _v;};_B.firstrecord=function() {var _rec;_rec=_B._result[0];return _rec;};_B.fromjson=function() {var _srecord;_B._lastposition=-1;_B._resultjson="";_B._recordjson="";_B._affectedrows=0;_B._rowcount=0;try {_B._response="Success";_B._error="";if (is.array(_B._result)) {_B._affectedrows=_B._result.length;} else {_B._affectedrows=_B._result;}_B._ok=true;if (_B._bcount) {if (_B._result.length>=0) {_B._record=_B._result[0];_B._recordjson=JSON.stringify(_B._record);_srecord=_B._record["records"]===undefined? 0:_B._record["records"];_B._affectedrows=parseInt(_srecord);} else {_B._affectedrows=0;}}_B._rowcount=_B._affectedrows;_B._resultjson=JSON.stringify(_B._result);if (_B._showlogs) {console.log("SDUIWebSQL.FromJSON: " + _B._resultjson + "");}} catch(err) {}};_B.nextrow=function() {var _realsize;_B._lastposition=_B._lastposition+1;_realsize=_B._rowcount-1;if (_B._lastposition>_realsize) {return false;} else {_B.setposition(_B._lastposition,_B);return true;}};_B.update=function() {var _pkvalue;_B.clear_where(_B);_pkvalue=_B._record[_B._primarykey];_B.add_where(_B._primarykey,"=",_pkvalue,_B);await _B.updatewhere(_B._record,_B._wherefield,_B._ops,_B);if (_B._showlogs) {console.log("SDUIWebSQL.UPDATE.Query." + _B._query + "");console.log("SDUIWebSQL.UPDATE.Args." + JSON.stringify(_B._args) + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);if (_B._affectedrows==1) {return _pkvalue;} else {return "";}};_B.update_by=function(_fldname,_fldvalue) {_B.clear_where(_B);_B.add_where(_fldname,"=",_fldvalue,_B);await _B.updatewhere(_B._record,_B._wherefield,_B._ops,_B);if (_B._showlogs) {console.log("SDUIWebSQL.UPDATE_BY.Query." + _B._query + "");console.log("SDUIWebSQL.UPDATE_BY.Args." + JSON.stringify(_B._args) + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);};_B.update_where=function() {await _B.updatewhere(_B._record,_B._wherefield,_B._ops,_B);if (_B._showlogs) {console.log("SDUIWebSQL.UPDATE_WHERE.Query." + _B._query + "");console.log("SDUIWebSQL.UPDATE_WHERE.Args." + JSON.stringify(_B._args) + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);};_B.schemaclear=function() {_B._schema={};return _B;};_B.getnextid=function() {var _inextid,_nr,_ni;_inextid=0;if (_B._result.length==0) {_inextid=0;} else {_nr=_B._result[0];_ni=_nr[_B._primarykey]===undefined? "0":_nr[_B._primarykey];_inextid=parseInt(_ni);}_inextid=parseInt(_inextid)+1;return _inextid;};_B.cstr=function(_o) {if (is.null(_o) || is.undefined(_o)) {_o="";}if (_o=="null") { return "";}if (_o=="undefined") { return "";}return ""+_o;};_B.getmapvalues=function(_sourcemap) {var _listofvalues,_icnt,_itot,_key,_value,_vtype;_listofvalues=[];_listofvalues.length=0;_icnt=0;_itot=0;_itot=Object.keys(_sourcemap).length-1;var _icnt=0;for (_icnt=0;_icnt<=_itot;_icnt++) {_key=banano_getB4JKeyAt(_sourcemap,_icnt);_value=banano_getB4JValueAt(_sourcemap,_icnt);_value=_B.cstr(_value,_B);_value=_value.trim();_vtype=_B.getmaptype(_key,_B);switch ("" + _vtype) {case "" + "i":if (_value=="") {_value="0";}_value=parseInt(_value);break;case "" + "d":if (_value=="") {_value="0";}_value=parseFloat(_value);break;case "" + "s":case "" + "b":break;}_listofvalues.push(_value);}return _listofvalues;};_B.removefield=function(_fldname) {if ((_fldname in _B._record)) {delete _B._record[_fldname];}};_B.joinfields=function(_delimiter,_lst) {var _i,_sb,_fld;_i=0;_sb=new StringBuilder();_fld="";_sb.init();_sb.isinitialized=true;_fld=_lst[0];_fld=_B.escapefield(_fld,_B);_sb.append(_fld);var _i=0;for (_i=1;_i<=_lst.length-1;_i++) {_fld=_lst[_i];_fld=_B.escapefield(_fld,_B);_sb.append(_delimiter).append(_fld);}return _sb.toString();};_B.getmapkeys=function(_sourcemap) {var _listofvalues,_icnt,_itot,_value;_listofvalues=[];_listofvalues.length=0;_icnt=0;_itot=0;_itot=Object.keys(_sourcemap).length-1;var _icnt=0;for (_icnt=0;_icnt<=_itot;_icnt++) {_value=banano_getB4JKeyAt(_sourcemap,_icnt);_listofvalues.push(_value);}return _listofvalues;};_B.delete=function(_primaryvalue) {_B.clear_where(_B);_B.add_where(_B._primarykey,"=",_primaryvalue,_B);await _B.deletewhere(_B._wherefield,_B._ops,_B);if (_B._showlogs) {console.log("SDUIWebSQL.DELETE.Query." + _B._query + "");console.log("SDUIWebSQL.DELETE.Args." + JSON.stringify(_B._args) + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);if (_B._affectedrows==1) {return true;} else {return false;}};_B.escapefield=function(_f) {if (_B._usebrackets) {return "[" + _f + "]";} else {return _f;}};_B.schemacreatetable=function() {var _fldname,_fldtype,_fldtot,_fldcnt,_sb;_fldname="";_fldtype="";_fldtot=0;_fldcnt=0;_fldtot=Object.keys(_B._schema).length-1;_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("(");var _fldcnt=0;for (_fldcnt=0;_fldcnt<=_fldtot;_fldcnt++) {_fldname=banano_getB4JKeyAt(_B._schema,_fldcnt);_fldtype=_B._schema[_fldname];_fldtype=_fldtype.split("STRING").join("TEXT");if (_fldcnt>0) {_sb.append(", ");}_sb.append(_B.escapefield(_fldname,_B));_sb.append(" ");_sb.append(_fldtype);if (_fldname.equalsIgnoreCase(_B._auto)) {_sb.append(" AUTOINCREMENT");}if (_fldname.equalsIgnoreCase(_B._primarykey)) {_sb.append(" PRIMARY KEY");}}_sb.append(")");_B._query="CREATE TABLE IF NOT EXISTS "+_B.escapefield(_B._tablename,_B)+" "+_sb.toString();_B._command="createtable";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;if (_B._showlogs) {console.log("SDUIWebSQL.SchemaCreateTable." + _B._query + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);};_B.newlist=function() {var _lst;_lst=[];_lst.length=0;return _lst;};_B.create_bulk=function(_recs) {var _ssql;_B.reset(_B);_ssql="SELECT * INTO [" + _B._tablename + "] FROM ?";_B._query=_ssql;_B._args=[_recs];_B._command="insert";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;if (_B._showlogs) {console.log("SDUIWebSQL.CREATE_BULK.Query." + _B._query + "");console.log("SDUIWebSQL.CREATE_BULK.Args." + JSON.stringify(_B._args) + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);};_B.getmax=function() {var _sb;_B.reset(_B);_sb="SELECT MAX([" + _B._primarykey + "]) As [" + _B._primarykey + "] FROM " + _B.escapefield(_B._tablename,_B) + "";_B._query=_sb;_B._command="select";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;return _B;};_B.getmin=function() {var _sb;_B.reset(_B);_sb="SELECT MIN([" + _B._primarykey + "]) As [" + _B._primarykey + "] FROM " + _B.escapefield(_B._tablename,_B) + "";_B._query=_sb;_B._command="select";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;return _B;};_B.droptable=function() {_B.reset(_B);_B._query="DROP TABLE "+_B.escapefield(_B._tablename,_B);_B._response="";_B._error="";_B._command="droptable";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;if (_B._showlogs) {console.log("SDUIWebSQL.DropTable." + _B._query + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);};_B.execute=function(_strsql) {_B.reset(_B);_strsql=_strsql.trim();_B._query=_strsql;_B._command="execute";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;if (_B._showlogs) {console.log("SDUIWebSQL.Execute.Query." + _B._query + "");}_B._result=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B.fromjson(_B);};_B.create=function() {var _sid,_sb,_columns,_values,_listofvalues,_listoftypes,_icnt,_itot,_col;_sid=_B._record[_B._primarykey];_sb=new StringBuilder();_columns=new StringBuilder();_values=new StringBuilder();_listofvalues=_B.getmapvalues(_B._record,_B);_listoftypes=_B.getmaptypes(_B._record,_B);_icnt=0;_itot=0;_sb.init();_sb.isinitialized=true;_columns.init();_columns.isinitialized=true;_values.init();_values.isinitialized=true;_sb.append("INSERT INTO " + _B.escapefield(_B._tablename,_B) + " (");_itot=Object.keys(_B._record).length-1;var _icnt=0;for (_icnt=0;_icnt<=_itot;_icnt++) {_col=banano_getB4JKeyAt(_B._record,_icnt);if (_icnt>0) {_columns.append(", ");_values.append(", ");}_columns.append(_B.escapefield(_col,_B));_values.append("?");}_sb.append(_columns.toString());_sb.append(") VALUES (");_sb.append(_values.toString());_sb.append(")");_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="insert";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;if (_B._showlogs) {console.log("SDUIWebSQL.CREATE.Query." + _B._query + "");console.log("SDUIWebSQL.CREATE.Args." + JSON.stringify(_B._args) + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);if (_B._affectedrows==1) {return _sid;} else {return "";}};_B.nextid=function() {var _ni;_ni=_B.guidalphaapp(15,_B);return _ni;};_B.guidalphaapp=function(_glen) {var _s;_glen=parseInt(_glen)-1;_s=BANanoExec("generateUniqueId", window, _glen);_s=_s.toLowerCase();return _s;};_B.movestart=function() {_B._lastposition=-1;};_B.setnextid=function() {var _nid;_nid=_B.nextid(_B);_B.setfield("id",_nid,_B);};_B.setrecord=function(_rec) {var _k,_v;_B._record={};var _kindex=0;var _kKeys = Object.keys(_rec);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_rec[_k];_B.setfield(_k,_v,_B);}_B._displayvalue=_B._record[_B._displayfield]===undefined? "":_B._record[_B._displayfield];};_B.preparerecord=function() {_B.clear_where(_B);_B._record={};};_B.getmaptype=function(_k) {var _coltype;if ((_k in _B._schema)) {_coltype=_B._schema[_k]===undefined? "STRING":_B._schema[_k];switch ("" + _coltype) {case "" + "INTEGER":case "" + "INT":case "" + "BOOL":case "" + "BOOLEAN":return "i";case "" + "BLOB":return "b";case "" + "REAL":case "" + "FLOAT":case "" + "DOUBLE":return "d";default:return "s";}} else {return "s";}};_B.getmaptypes=function(_sourcemap) {var _listoftypes,_icnt,_itot,_col,_coltype;_listoftypes=[];_listoftypes.length=0;_icnt=0;_itot=0;_itot=Object.keys(_sourcemap).length-1;var _icnt=0;for (_icnt=0;_icnt<=_itot;_icnt++) {_col=banano_getB4JKeyAt(_sourcemap,_icnt);_coltype=_B._schema[_col]===undefined? "STRING":_B._schema[_col];switch ("" + _coltype) {case "" + "INTEGER":case "" + "INT":case "" + "BOOL":case "" + "BOOLEAN":_listoftypes.push("i");break;case "" + "BLOB":_listoftypes.push("b");break;case "" + "REAL":case "" + "FLOAT":case "" + "DOUBLE":_listoftypes.push("d");break;default:_listoftypes.push("s");break;}}return _listoftypes;};_B.eqoperators=function(_sm) {var _nl,_k;_nl=[];_nl.length=0;var _kindex=0;var _kKeys = Object.keys(_sm);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_nl.push("=");}return _nl;};_B.updatewhere=function(_tblfields,_tblwhere,_operators) {var _listoftypes,_listoftypes1,_listofvalues,_listofvalues1,_sb,_i,_itot,_col,_nfilter,_iwhere,_opr;if (Object.keys(_B._schema).length==0) {console.log("SDUIWebSQL.UpdateWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_B);}_listoftypes=_B.getmaptypes(_tblfields,_B);_listoftypes1=_B.getmaptypes(_tblwhere,_B);_listoftypes.push(..._listoftypes1);_listofvalues=_B.getmapvalues(_tblfields,_B);_listofvalues1=_B.getmapvalues(_tblwhere,_B);_listofvalues.push(..._listofvalues1);_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("UPDATE " + _B.escapefield(_B._tablename,_B) + " SET ");_i=0;_itot=Object.keys(_tblfields).length-1;var _i=0;for (_i=0;_i<=_itot;_i++) {_col=banano_getB4JKeyAt(_tblfields,_i);_sb.append(_B.escapefield(_col,_B));if (_i!=_itot) {_sb.append(" = ?,");} else {_sb.append(" = ?");}}_sb.append(" WHERE ");_nfilter="";if (_B._ownfilter.length>0) {_nfilter=_B.join(" ",_B._ownfilter,_B);_nfilter=_nfilter.trim();_nfilter=_nfilter.split("!=").join("<>");_nfilter=_nfilter.split("&&").join("AND");_nfilter=_nfilter.split("||").join("OR");_nfilter=_nfilter.split("~").join("LIKE");_nfilter=_nfilter.trim();_sb.append(_nfilter).append(" ");}_iwhere=Object.keys(_tblwhere).length-1;var _i=0;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_col=_B.mvfield(_col,1,".",_B);_col=_col.split("&").join("");_sb.append(_B.escapefield(_col,_B));_opr=_operators[_i];_sb.append(" " + _opr + " ?");}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="update";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;return _B;};_B.delete_where=function() {await _B.deletewhere(_B._wherefield,_B._ops,_B);if (_B._showlogs) {console.log("SDUIWebSQL.DELETE_WHERE.Query." + _B._query + "");console.log("SDUIWebSQL.DELETE_WHERE.Args." + JSON.stringify(_B._args) + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);};_B.delete_by=function(_fldname,_fldvalue) {var _b;_B.clear_where(_B);_B.add_where(_fldname,"=",_fldvalue,_B);_B.add_field("id",_B);_B.add_field(_fldname,_B);_b=await _B.delete_where(_B);return _b;};_B.deletewhere=function(_tblwhere,_operators) {var _listoftypes,_listofvalues,_sb,_nfilter,_i,_iwhere,_col,_opr;if (Object.keys(_B._schema).length==0) {console.log("SDUIWebSQL.DeleteWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_B);_listofvalues=_B.getmapvalues(_tblwhere,_B);_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("DELETE FROM " + _B.escapefield(_B._tablename,_B) + " WHERE ");_nfilter="";if (_B._ownfilter.length>0) {_nfilter=_B.join(" ",_B._ownfilter,_B);_nfilter=_nfilter.trim();_nfilter=_nfilter.split("!=").join("<>");_nfilter=_nfilter.split("&&").join("AND");_nfilter=_nfilter.split("||").join("OR");_nfilter=_nfilter.split("~").join("LIKE");_nfilter=_nfilter.trim();_sb.append(_nfilter).append(" ");}_i=0;_iwhere=Object.keys(_tblwhere).length-1;var _i=0;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_col=_B.mvfield(_col,1,".",_B);_col=_col.split("&").join("");_sb.append(_col);_opr=_operators[_i];_sb.append(" " + _opr + " ?");}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="delete";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;return _B;};_B.existsby=function(_fldname,_fldvalue) {var _res;_B.clear_where(_B);_B.add_field(_fldname,_B);_B.add_where(_fldname,"=",_fldvalue,_B);_res=await _B.select_where(_B);if (_res.length==0) {return false;} else {return true;}};_B.exists=function(_privalue) {var _res;_B.clear_where(_B);_B.add_field(_B._primarykey,_B);_B.add_where(_B._primarykey,"=",_privalue,_B);_res=await _B.select_where(_B);if (_res.length==0) {return false;} else {return true;}};_B.existswhere=function(_where) {var _k,_v,_res;_B.clear_where(_B);_B.add_field("id",_B);var _kindex=0;var _kKeys = Object.keys(_where);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_where[_k];_B.add_where(_k,"=",_v,_B);}_res=await _B.select_where(_B);if (_res.length==0) {return false;} else {return true;}};_B.delete_all=function() {var _sb;_B.reset(_B);_sb="DELETE FROM " + _B.escapefield(_B._tablename,_B) + " WHERE 1=1";_B._query=_sb;_B._command="delete";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;if (_B._showlogs) {console.log("SDUIWebSQL.DELETE_ALL." + _B._query + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);};_B.update_all=function() {var _operators,_listoftypes,_listofvalues,_sb,_i,_itot,_oper,_col;_operators=_B.eqoperators(_B._record,_B);_listoftypes=_B.getmaptypes(_B._record,_B);_listofvalues=_B.getmapvalues(_B._record,_B);_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("UPDATE " + _B.escapefield(_B._tablename,_B) + " SET ");_i=0;_itot=Object.keys(_B._record).length-1;var _i=0;for (_i=0;_i<=_itot;_i++) {_oper=_operators[_i];_col=banano_getB4JKeyAt(_B._record,_i);_sb.append(_col);if (_i!=_itot) {_sb.append(" " + _oper + " ?,");} else {_sb.append(" " + _oper + " ?");}}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="update";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;if (_B._showlogs) {console.log("SDUIWebSQL.UPDATE_ALL.Query." + _B._query + "");console.log("SDUIWebSQL.UPDATE_ALL.Args." + JSON.stringify(_B._args) + "");}_B._affectedrows=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B._affectedrows=_B.cint(_B._affectedrows,_B);};_B.read=function(_primaryvalue) {var _res;if (Object.keys(_B._schema).length==0) {console.log("SDUIWebSQL.Read: '" + _B._tablename + "' schema is not set!");}_B.add_where(_B._primarykey,"=",_primaryvalue,_B);await _B.selectwhere(_B._flds,_B._wherefield,_B._ops,_B._orderbyl,_B);if (_B._showlogs) {console.log("SDUIWebSQL.READ.Query." + _B._query + "");console.log("SDUIWebSQL.READ.Args." + JSON.stringify(_B._args) + "");}_res=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);if (_res.length>=0) {_B._record=_res[0];} else {_B._record={};}return _B._record;};_B.read_by=function(_fldname,_fldvalue) {var _res,_rec;if (Object.keys(_B._schema).length==0) {console.log("SDUIWebSQL.READ_BY: '" + _B._tablename + "' schema is not set!");}_B.clear_where(_B);_B.add_where(_fldname,"=",_fldvalue,_B);_res=await _B.select_where(_B);_rec={};if (_res.length==0) {return _rec;} else {_rec=_res[0];return _rec;}};_B.read_id_by=function(_fldname,_fldvalue) {var _res,_rec,_sid;if (Object.keys(_B._schema).length==0) {console.log("SDUIWebSQL.READ_ID_BY: '" + _B._tablename + "' schema is not set!");}_B.clear_where(_B);_B.add_where(_fldname,"=",_fldvalue,_B);_B.add_field("id",_B);_res=await _B.select_where(_B);if (_res.length==0) {return "";} else {_rec=_res[0];_sid=_rec["id"]===undefined? "":_rec["id"];return _sid;}};_B.getmaxwhere=function(_fldname,_tblwhere,_operators) {var _listoftypes,_listofvalues,_sb,_nfilter,_i,_iwhere,_col,_opr;if (Object.keys(_B._schema).length==0) {console.log("SDUIWebSQL.GetMaxWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_B);_listofvalues=_B.getmapvalues(_tblwhere,_B);_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT MAX([" + _fldname + "]) As [" + _fldname + "] FROM " + _B.escapefield(_B._tablename,_B) + " WHERE ");_nfilter="";if (_B._ownfilter.length>0) {_nfilter=_B.join(" ",_B._ownfilter,_B);_nfilter=_nfilter.trim();_nfilter=_nfilter.split("!=").join("<>");_nfilter=_nfilter.split("&&").join("AND");_nfilter=_nfilter.split("||").join("OR");_nfilter=_nfilter.split("~").join("LIKE");_nfilter=_nfilter.trim();_sb.append(_nfilter).append(" ");}_i=0;_iwhere=Object.keys(_tblwhere).length-1;var _i=0;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_col=_B.mvfield(_col,1,".",_B);_col=_col.split("&").join("");_sb.append(_col);_opr=_operators[_i];_sb.append(" " + _opr + " ?");}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="select";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;return _B;};_B.selectdistinctall=function(_tblfields,_lorderby) {var _fld1,_selfields,_sb,_stro;if (_tblfields.length==0) {_tblfields.push("*");}_fld1=_tblfields[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_tblfields,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT DISTINCT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_B) + "");if (true && _lorderby.length>0) {_stro=_B.joinfields(",",_lorderby,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._command="select";return _B;};_B.selectdistinctwhere=function(_tblfields,_tblwhere,_operators,_lorderby) {var _listoftypes,_listofvalues,_fld1,_selfields,_sb,_nfilter,_i,_iwhere,_col,_oper,_stro;if (Object.keys(_B._schema).length==0) {console.log("SDUIMSSQLE.SelectDistinctWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_B);_listofvalues=_B.getmapvalues(_tblwhere,_B);if (_tblfields.length==0) {_tblfields.push("*");}_fld1=_tblfields[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_tblfields,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT DISTINCT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_B) + " WHERE ");_nfilter="";if (_B._ownfilter.length>0) {_nfilter=_B.join(" ",_B._ownfilter,_B);_nfilter=_nfilter.trim();_nfilter=_nfilter.split("!=").join("<>");_nfilter=_nfilter.split("&&").join("AND");_nfilter=_nfilter.split("||").join("OR");_nfilter=_nfilter.split("~").join("LIKE");_nfilter=_nfilter.trim();_sb.append(_nfilter).append(" ");}_i=0;_iwhere=Object.keys(_tblwhere).length-1;var _i=0;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_col=_B.mvfield(_col,1,".",_B);_col=_col.split("&").join("");_oper=_operators[_i];_sb.append(_B.escapefield(_col,_B));_sb.append(" " + _oper + " ?");}if (true && _lorderby.length>0) {_stro=_B.joinfields(",",_lorderby,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="select";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;return _B;};_B.select_where=function() {var _res;await _B.selectwhere(_B._flds,_B._wherefield,_B._ops,_B._orderbyl,_B);if (_B._showlogs) {console.log("SDUIWebSQL.SELECT_WHERE.Query." + _B._query + "");console.log("SDUIWebSQL.SELECT_WHERE.Args." + JSON.stringify(_B._args) + "");}_res=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);return _res;};_B.selectwhere=function(_tblfields,_tblwhere,_operators,_lorderby) {var _listoftypes,_listofvalues,_fld1,_selfields,_sb,_nfilter,_i,_iwhere,_col,_opr,_stro;if (Object.keys(_B._schema).length==0) {console.log("SDUIWebSQL.SelectWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_B);_listofvalues=_B.getmapvalues(_tblwhere,_B);if (_tblfields.length==0) {_tblfields.push("*");}_fld1=_tblfields[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_tblfields,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_B) + " WHERE ");_nfilter="";if (_B._ownfilter.length>0) {_nfilter=_B.join(" ",_B._ownfilter,_B);_nfilter=_nfilter.trim();_nfilter=_nfilter.split("!=").join("<>");_nfilter=_nfilter.split("&&").join("AND");_nfilter=_nfilter.split("||").join("OR");_nfilter=_nfilter.split("~").join("LIKE");_nfilter=_nfilter.trim();_sb.append(_nfilter).append(" ");}_i=0;_iwhere=Object.keys(_tblwhere).length-1;var _i=0;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_col=_B.mvfield(_col,1,".",_B);_col=_col.split("&").join("");_sb.append(_col);_opr=_operators[_i];_sb.append(" " + _opr + " ?");}if (true && _lorderby.length>0) {_stro=_B.joinfields(",",_lorderby,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="select";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;return _B;};_B.selectmaxwhere=function(_fld,_tblwhere,_operators) {var _listoftypes,_listofvalues,_sb,_nfilter,_i,_iwhere,_col,_opr;if (Object.keys(_B._schema).length==0) {console.log("SDUIWebSQL.SelectMaxWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_B);_listofvalues=_B.getmapvalues(_tblwhere,_B);_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT MAX(" + _fld + ") As [" + _fld + "] FROM " + _B.escapefield(_B._tablename,_B) + " WHERE ");_nfilter="";if (_B._ownfilter.length>0) {_nfilter=_B.join(" ",_B._ownfilter,_B);_nfilter=_nfilter.trim();_nfilter=_nfilter.split("!=").join("<>");_nfilter=_nfilter.split("&&").join("AND");_nfilter=_nfilter.split("||").join("OR");_nfilter=_nfilter.split("~").join("LIKE");_nfilter=_nfilter.trim();_sb.append(_nfilter).append(" ");}_i=0;_iwhere=Object.keys(_tblwhere).length-1;var _i=0;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_col=_B.mvfield(_col,1,".",_B);_col=_col.split("&").join("");_sb.append(_col);_opr=_operators[_i];_sb.append(" " + _opr + " ?");}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="select";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;return _B;};_B.andoroperators=function(_sm) {var _nl,_k;_nl=[];_nl.length=0;var _kindex=0;var _kKeys = Object.keys(_sm);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_nl.push("AND");}return _nl;};_B.join=function(_delimiter,_lst) {var _i,_sb,_fld;_i=0;_sb=new StringBuilder();_fld="";_sb.init();_sb.isinitialized=true;_fld=_lst[0];_sb.append(_fld);var _i=0;for (_i=1;_i<=_lst.length-1;_i++) {_fld=_lst[_i];_sb.append(_delimiter).append(_fld);}return _sb.toString();};_B.select_all=function() {var _fld1,_selfields,_sb,_stro;if (_B._flds.length==0) {_B._flds.push("*");}_fld1=_B._flds[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_B._flds,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_B) + "");if (true && _B._orderbyl.length>0) {_stro=_B.joinfields(",",_B._orderbyl,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._command="select";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;if (_B._showlogs) {console.log("SDUIWebSQL.SELECT_ALL.Query." + _B._query + "");console.log("SDUIWebSQL.SELECT_ALL.Args." + JSON.stringify(_B._args) + "");}_B._result=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B.fromjson(_B);return _B._result;};_B.select_where1=function() {await _B.selectwhere(_B._flds,_B._wherefield,_B._ops,_B._orderbyl,_B);if (_B._showlogs) {console.log("SDUIWebSQL.SELECT_WHERE1.Query." + _B._query + "");console.log("SDUIWebSQL.SELECT_WHERE1.Args." + JSON.stringify(_B._args) + "");}_B._result=await BananoSQLRunExecute(_B._query, _B._args,_B._db_localname);_B.fromjson(_B);};_B.setposition=function(_pos) {if (_B._result.length>_pos) {_B._record=_B._result[_pos];_B._lastposition=_pos;} else {_B._lastposition=-1;_B._record={};}_B._recordjson=JSON.stringify(_B._record);};_B.getposition=function() {return _B._lastposition;};_B.getint=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return 0;}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? 0:_B._record[_fld];_obj=_B.cint(_obj,_B);return _obj;} else {return 0;}};_B.getlong=function(_fld) {return _B.getint(_fld,_B);};_B.getstring=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return "";}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? "":_B._record[_fld];_obj=_B.cstr(_obj,_B);return _obj;} else {return "";}};_B.getboolean=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return false;}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? false:_B._record[_fld];_obj=_B.cbool(_obj,_B);return _obj;} else {return false;}};_B.getdouble=function(_fld) {var _obj;_fld=_fld.toLowerCase();if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? 0:_B._record[_fld];_obj=_B.cdbl(_obj,_B);return _obj;} else {return 0;}};_B.getrecord=function(_pos) {var _rec;_rec=_B._result[_pos];return _rec;};_B.movefirst=function() {_B.setposition(0,_B);};_B.movelast=function() {_B.setposition(_B._rowcount-1,_B);};_B.moveprevious=function() {_B._lastposition=_B._lastposition-1;if (_B._lastposition<0) {_B._lastposition=0;}_B.setposition(_B._lastposition,_B);};_B.movenext=function() {_B._lastposition=_B._lastposition+1;if (_B._lastposition>_B._rowcount) {_B._lastposition=_B._rowcount-1;}_B.setposition(_B._lastposition,_B);};_B.schemaaddlongtext1=function(_b) {_B._schema[_b]=_B._db_longtext;};_B.schemaaddlongtext=function(_bools) {var _b;var _bindex=0;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_longtext;}};_B.putrecursive=function(_data,_path,_value) {var _prevobj,_items,_itot,_icnt,_strprev,_prtobj,_litem,_no;try {if (is.null(_path) || is.undefined(_path)) {_path="";}if (_path=="") { return ;}_prevobj=_data;if (_path.indexOf(".")==-1) {_prevobj[_path]=_value;} else {_items=javaLikeSplit(".",_path);_itot=_items.length;_icnt=0;_strprev="";_prtobj=null;_litem=_items[_itot-1];var _icnt=0;for (_icnt=1;_icnt<=_itot-1;_icnt++) {_strprev=_items[_icnt-1];_prtobj=_prevobj[_strprev];if (is.undefined(_prtobj)) {_no={};_prevobj[_strprev]=_no;_prevobj=_prevobj[_strprev];} else {_prevobj=_prtobj;}}_prevobj[_litem]=_value;}} catch(err) {}};_B.getrecursive=function(_data,_path) {var _prevobj,_res,_items,_itot,_icnt,_strprev,_prtobj,_litem;try {_prevobj=_data;if (_path.indexOf(".")==-1) {_res=_prevobj[_path];if (is.undefined(_res)) {_res=null;}return _res;} else {_items=javaLikeSplit(".",_path);_itot=_items.length;_icnt=0;_strprev="";_prtobj=null;_litem=_items[_itot-1];var _icnt=0;for (_icnt=1;_icnt<=_itot-1;_icnt++) {_strprev=_items[_icnt-1];_prtobj=_prevobj[_strprev];if (is.undefined(_prtobj)) {return null;} else {_prevobj=_prtobj;}}_res=_prevobj[_litem];if (is.undefined(_res)) {_res=null;}return _res;}} catch(err) {return null;}};_B.setschemafromdatamodel1=function(_sourcetable,_models) {var _tm,_fldsx,_fm,_fldtype,_fldname;if ((_sourcetable in _models)==false) {throw "SetSchemaFromDataModel." + _sourcetable + " data-model does NOT exist!";return;}_tm=_models[_sourcetable];_B._primarykey=_tm["pk"]===undefined? "":_tm["pk"];_B._auto=_tm["ai"]===undefined? "":_tm["ai"];_B._schema={};_fldsx=_tm["fields"];var _fmindex=0;for (var _fmindex=0;_fmindex<_fldsx.length;_fmindex++) {_fm=_fldsx[_fmindex];_fldtype=_fm["type"];_fldname=_fm["name"];switch ("" + _fldtype) {case "" + "LONGTEXT":_B.schemaaddlongtext1(_fldname,_B);break;case "" + "FILE":_B.schemaaddfile1(_fldname,_B);break;case "" + "TEXT":case "" + "STRING":_B.schemaaddtext1(_fldname,_B);break;case "" + "BLOB":_B.schemaaddblob1(_fldname,_B);break;case "" + "INT":case "" + "INTEGER":_B.schemaaddint1(_fldname,_B);break;case "" + "DOUBLE":case "" + "REAL":case "" + "FLOAT":_B.schemaadddouble1(_fldname,_B);break;case "" + "BOOL":_B.schemaaddboolean1(_fldname,_B);break;}}};_B.setfieldsfromdatamodel=function(_models) {var _tm,_fldsx,_fm,_fldname;if ((_B._tablename in _models)==false) {throw "SetFieldsFromDataModel." + _B._tablename + " data-model does NOT exist!";return;}_tm=_models[_B._tablename];_B._flds.length=0;_fldsx=_tm["fields"];var _fmindex=0;for (var _fmindex=0;_fmindex<_fldsx.length;_fmindex++) {_fm=_fldsx[_fmindex];_fldname=_fm["name"];_B.add_field(_fldname,_B);}};_B.removefields=function(_themfields) {var _fldname,_fldpos;var _fldnameindex=0;for (var _fldnameindex=0;_fldnameindex<_themfields.length;_fldnameindex++) {_fldname=_themfields[_fldnameindex];_fldpos=_B._flds.indexOf(_fldname);if (_fldpos!=-1) {_B._flds.splice(_fldpos,1);}}};_B.schemaaddfile=function(_bools) {var _b;var _bindex=0;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_file;}};_B.schemaaddfile1=function(_b) {_B._schema[_b]=_B._db_file;};_B.orderby=function(_fldnames) {var _k;var _kindex=0;for (var _kindex=0;_kindex<_fldnames.length;_kindex++) {_k=_fldnames[_kindex];_B.add_order_by(_k,_B);}return _B;};_B.add_order_by_desc=function(_fld) {_B._orderbyl.push("" + _fld + " DESC");return _B;};_B.orderbydesc=function(_fldnames) {var _k;var _kindex=0;for (var _kindex=0;_kindex<_fldnames.length;_kindex++) {_k=_fldnames[_kindex];_B.add_order_by_desc(_k,_B);}return _B;};_B.selectfields=function(_fldnames) {_B.clear_where(_B);_B.add_fields(_fldnames,_B);return _B;};_B.whereequal=function(_fldname,_fldvalue) {_B.add_where(_fldname,"=",_fldvalue,_B);return _B;};_B.wheregreaterthan=function(_fldname,_fldvalue) {_B.add_where(_fldname,">",_fldvalue,_B);return _B;};_B.wheregreaterthanequalto=function(_fldname,_fldvalue) {_B.add_where(_fldname,">=",_fldvalue,_B);return _B;};_B.wherelike=function(_fldname,_fldvalue) {_B.add_where(_fldname,"~",_fldvalue,_B);return _B;};_B.wherenotlike=function(_fldname,_fldvalue) {_B.add_where(_fldname,"!~",_fldvalue,_B);return _B;};_B.wherelessthanequalto=function(_fldname,_fldvalue) {_B.add_where(_fldname,"<=",_fldvalue,_B);return _B;};_B.wherelessthan=function(_fldname,_fldvalue) {_B.add_where(_fldname,"<",_fldvalue,_B);return _B;};_B.wherebetween=function(_fldname,_fldstart,_fldend) {_B.add_where("" + _fldname + ".start",">=",_fldstart,_B);_B.add_where("" + _fldname + ".end","<=",_fldend,_B);return _B;};_B.wherenotequal=function(_fldname,_fldvalue) {_B.add_where(_fldname,"<>",_fldvalue,_B);return _B;};_B.mvfield=function(_svalue,_iposition,_delimiter) {var _xpos,_mvalues,_tvalues,_sb,_startcnt,_sout;if (_svalue.length==0) { return "";}_xpos=_svalue.indexOf(_delimiter);if (_xpos==-1) { return _svalue;}_mvalues=_B.strparse(_delimiter,_svalue,_B);_tvalues=0;_tvalues=_mvalues.length-1;switch ("" + _iposition) {case "" + -1:return _mvalues[_tvalues];case "" + -2:return _mvalues[_tvalues-1];case "" + -3:_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_startcnt=0;_sb.append(_mvalues[1]);var _startcnt=0;for (_startcnt=2;_startcnt<=_tvalues;_startcnt++) {_sb.append(_delimiter);_sb.append(_mvalues[_startcnt]);}_sout=_sb.toString();_sb.init();_sb.isinitialized=true;return _sout;default:_iposition=_iposition-1;if (_iposition<=-1) {return _mvalues[_tvalues];}if (_iposition>_tvalues) {return "";}return _mvalues[_iposition];}};_B.strparse=function(_delim,_inputstring) {var _nl;_nl=[];_nl.length=0;try {_inputstring=_B.cstr(_inputstring,_B);if (is.null(_inputstring) || is.undefined(_inputstring)) {_inputstring="";}if (_inputstring=="") { return _nl;}if (_inputstring.indexOf(_delim)==-1) {_nl.push(_inputstring);} else {_nl=javaLikeSplit(_delim,_inputstring);}return _nl;} catch(err) {return _nl;}};_B.remdelim=function(_svalue,_delim) {var _sw,_ldelim,_nvalue;_sw=_svalue.endsWith(_delim);if (_sw) {_ldelim=_delim.length;_nvalue=_svalue;_sw=_nvalue.endsWith(_delim);if (_sw) {_nvalue=_nvalue.substring(0,_nvalue.length-_ldelim);}return _nvalue;} else {return _svalue;}};}function banano_sd5addressbook() {var _B;this._appname="sd5addressbook";this._apptitle="SithasoDaisy5 Low Code Address Book";this._publish="C:\laragon\www";this._version="0.01";this._serverip="http://127.0.0.1";this._appversion="";this._apikey="";this._apiurl="";this._dbname="addressbook";this.banano_ready=function() {if (_B==null) _B=this;var _bfo,_env;_bfo={};_bfo={};_bfo.cache="no-store";_bfo.method="GET";_env=await BANFetch('J', "./assets/env.json?"+self.DateTime.Now(),_bfo, '');_B._serverip=_env["ip"];_B._apikey=_env["apikey"];_B._apiurl=_env["apiurl"];_B._appversion=_env["version"];if (_B._appversion!="") {if (_B._version!=_B._appversion) {window.location.reload(true);return;}}_banano_sd5addressbook_pgindex.initialize();};}function banano_sithasodaisy5_contact() {var _B=this;_B._id="";_B._name="";_B._contactname="";_B._typeof="";_B._avatar="";_B.initialize=function() {};}function banano_sithasodaisy5_contactinfo() {var _B=this;_B._avatar="";_B._name="";_B._contactname="";_B._email="";_B._category="";_B._description="";_B._products=[];_B._chatid="";_B._lastseen="";_B._isarchive=false;_B._isdisappearing=false;_B._ismute=false;_B._messageexpiration=0;_B._muteexpiration=0;_B._isbusiness=false;_B.initialize=function() {};}function banano_sithasodaisy5_product() {var _B=this;_B._id="";_B._imageurls=[];_B._availability="";_B._reviewstatus={};_B._name="";_B._description="";_B._price="";_B._ishidden=false;_B.initialize=function() {};}function banano_sithasodaisy5_imageurl() {var _B=this;_B._requested="";_B._original="";_B.initialize=function() {};}function banano_sithasodaisy5_reviewstatus() {var _B=this;_B._whatsapp="";_B.initialize=function() {};}function banano_sithasodaisy5_groupdata() {var _B=this;_B._groupid="";_B._owner="";_B._subject="";_B._creation=0;_B._participants=[];_B._subjecttime=0;_B._subjectowner="";_B._groupinvitelink="";_B.initialize=function() {};}function banano_sithasodaisy5_groupparticipant() {var _B=this;_B._id="";_B._isadmin=false;_B._issuperadmin="";_B.initialize=function() {};}function banano_sithasodaisy5_messagelocation() {var _B=this;_B._namelocation="";_B._address="";_B._latitude=0;_B._longitude=0;_B._jpegthumbnail="";_B._isforwarded=false;_B._forwardingscore=0;_B.initialize=function() {};}function banano_sithasodaisy5_messagecontact() {var _B=this;_B._displayname="";_B._vcard="";_B._isforwarded=false;_B._forwardingscore=0;_B.initialize=function() {};}function banano_sithasodaisy5_messageextendedtext() {var _B=this;_B._text="";_B._description="";_B._title="";_B._previewtype="";_B._jpegthumbnail="";_B._stanzaid="";_B._participant="";_B._isforwarded=false;_B._forwardingscore=0;_B.initialize=function() {};}function banano_sithasodaisy5_messageextendedtextdata() {var _B=this;_B._text="";_B.initialize=function() {};}function banano_sithasodaisy5_messagepollmessagedata() {var _B=this;_B._stanzaid="";_B._name="";_B._options=[];_B._votes=[];_B._multipleanswers=false;_B.initialize=function() {};}function banano_sithasodaisy5_messagequoted() {var _B=this;_B._stanzaid="";_B._participant="";_B._typemessage="";_B.initialize=function() {};}function banano_sithasodaisy5_messagedata() {var _B=this;_B._typemessage="";_B._textmessagedata={};_B._quotedmessage={};_B.initialize=function() {};}function banano_sithasodaisy5_textmessagedata() {var _B=this;_B._textmessage="";_B._istemplatemessage=false;_B.initialize=function() {};}function banano_sithasodaisy5_message() {var _B=this;_B._typeof="";_B._idmessage="";_B._timestamp=0;_B._statusmessage="";_B._sendbyapi=false;_B._typemessage="";_B._chatid="";_B._senderid="";_B._sendername="";_B._sendercontactname="";_B._isforwarded=false;_B._forwardingscore=false;_B._textmessage="";_B._downloadurl="";_B._caption="";_B._filename="";_B._jpegthumbnail="";_B._mimetype="";_B._isanimated=false;_B._location=(typeof banano_sithasodaisy5_messagelocation === 'function') ? new banano_sithasodaisy5_messagelocation(): null;_B._contact=(typeof banano_sithasodaisy5_messagecontact === 'function') ? new banano_sithasodaisy5_messagecontact(): null;_B._extendedtextmessage=(typeof banano_sithasodaisy5_messageextendedtext === 'function') ? new banano_sithasodaisy5_messageextendedtext(): null;_B._extendedtextmessagedata=(typeof banano_sithasodaisy5_messageextendedtextdata === 'function') ? new banano_sithasodaisy5_messageextendedtextdata(): null;_B._pollmessagedata=(typeof banano_sithasodaisy5_messagepollmessagedata === 'function') ? new banano_sithasodaisy5_messagepollmessagedata(): null;_B._quotedmessage=(typeof banano_sithasodaisy5_messagequoted === 'function') ? new banano_sithasodaisy5_messagequoted(): null;_B.initialize=function() {};}function banano_sithasodaisy5_messagenotification() {var _B=this;_B._receiptid="";_B._body={};_B._chatid="";_B._idmessage="";_B._wid="";_B._status="";_B._timestamp=0;_B._typewebhook="";_B._sendbyapi=false;_B._senderchatid="";_B._senderid="";_B._sendername="";_B._typemessage="";_B._textmessage="";_B.initialize=function() {};}function banano_sithasodaisy5_paginate() {var _B=this;_B._previouspage=0;_B._nextpage=0;_B._totalpages=0;_B._items=[];_B.initialize=function() {};}function banano_sithasodaisy5_profiletype() {var _B=this;_B._id="";_B._name="";_B._verified=false;_B._email="";_B._token="";_B._avatar="";_B._username="";_B._size=0;_B._idnumber="";_B.initialize=function() {};}function banano_sithasodaisy5_fileobject() {var _B=this;_B._filename="";_B._filedate="";_B._filesize=0;_B._filetype="";_B._status="";_B._fullpath="";_B._filedateonly="";_B._fileok=false;_B._fo=null;_B._extension="";_B._webkitrelativepath="";_B.initialize=function() {};}function banano_sithasodaisy5_address() {var _B=this;_B._suburb="";_B._name="";_B._city="";_B._country="";_B._countrycode="";_B._municipality="";_B._postcode="";_B._road="";_B._state="";_B._displayname="";_B._lat="";_B._lon="";_B.initialize=function() {};}function banano_sithasodaisy5_gridrow() {var _B=this;_B._rows=0;_B._columns=[];_B._gma="";_B._gmx="";_B._gmy="";_B._gmt="";_B._gmb="";_B._gmr="";_B._gml="";_B._gpa="";_B._gpx="";_B._gpy="";_B._gpt="";_B._gpb="";_B._gpr="";_B._gpl="";_B.initialize=function() {};}function banano_sithasodaisy5_gridcolumn() {var _B=this;_B._columns=0;_B._gxs="";_B._gsm="";_B._gmd="";_B._glg="";_B._gxl="";_B._ofxs="";_B._ofsm="";_B._ofmd="";_B._oflg="";_B._ofxl="";_B._gma="";_B._gmx="";_B._gmy="";_B._gmt="";_B._gmb="";_B._gmr="";_B._gml="";_B._gpa="";_B._gpx="";_B._gpy="";_B._gpt="";_B._gpb="";_B._gpr="";_B._gpl="";_B.initialize=function() {};}function banano_sithasodaisy5_tablecolumn() {var _B=this;_B._name="";_B._title="";_B._typeof="";_B._size="";_B._subtitle="";_B._subtitle1="";_B._icon="";_B._color="";_B._width="";_B._readonly=false;_B._maxvalue=0;_B._height="";_B._mask="";_B._suffix="";_B._alignment="";_B._minwidth="";_B._maxwidth="";_B._classes=[];_B._options={};_B._nothingselected=false;_B._rows=0;_B._dateformat="";_B._altformat="";_B._range=false;_B._multiple=false;_B._nocalendar=false;_B._computevalue="";_B._computecolor="";_B._locale="";_B._computeclass="";_B._prefix="";_B._prependicon="";_B._appendicon="";_B._minvalue=0;_B._stepvalue=0;_B._hasring=false;_B._ringcolor="";_B._onlinefield="";_B._visible=false;_B._accept="";_B._capture="";_B._textcolor="";_B._colwidth="";_B._colheight="";_B._maxlength="";_B._computebackgroundcolor="";_B._optionicons={};_B._computering="";_B._computetextcolor="";_B._bgcolor="";_B._delimiter="";_B._sumvalues=false;_B._computeoptions="";_B._replacesvg=false;_B._fitsvg=false;_B._ghost=false;_B._svgsize="";_B.initialize=function() {};}function banano_sithasodaisy5_treenode() {var _B=this;_B._nodeid="";_B._parentid="";_B._iconurl="";_B._text="";_B._href="";_B._hascheckbox=false;_B._expanded=false;_B.initialize=function() {};}function banano_sithasodaisy5_oxmlcell() {var _B=this;_B._typeof="";_B._value="";_B._formula="";_B._style={};_B.initialize=function() {};}function banano_sithasodaisy5_oxmlrow() {var _B=this;_B._rowindex=0;_B._columnindex=0;_B._values=[];_B._style={};_B.initialize=function() {};}function banano_sithasodaisy5_oxmlstyle() {var _B=this;_B._bold=false;_B._italic=false;_B._underline=false;_B._strike=false;_B._fontsize="";_B._fontcolor="";_B._fontname="";_B._fontfamily="";_B._scheme="";_B._numberfrmat="";_B._bordercolor="";_B._borderthickness="";_B._halignment="";_B._valignment="";_B._fillpattern="";_B._fillforecolor="";_B._fillbackground="";_B.initialize=function() {};}function banano_sithasodaisy5_tablecolumn1() {var _B=this;_B._name="";_B._title="";_B._typeof="";_B._size="";_B._subtitle="";_B._subtitle1="";_B._icon="";_B._color="";_B._width="";_B._readonly=false;_B._maxvalue=0;_B._height="";_B._mask="";_B._suffix="";_B._alignment="";_B._minwidth="";_B._maxwidth="";_B._classes=[];_B._options={};_B._nothingselected=false;_B._rows=0;_B._dateformat="";_B._altformat="";_B._range=false;_B._multiple=false;_B._nocalendar=false;_B._computevalue="";_B._computecolor="";_B._locale="";_B._computeclass="";_B._prefix="";_B._prependicon="";_B._appendicon="";_B._minvalue=0;_B._stepvalue=0;_B._hasring=false;_B._ringcolor="";_B._onlinefield="";_B._visible=false;_B._accept="";_B._capture="";_B._textcolor="";_B._colwidth="";_B._colheight="";_B._maxlength="";_B._computebackgroundcolor="";_B._optionicons={};_B._computering="";_B._computetextcolor="";_B._bgcolor="";_B._delimiter="";_B.initialize=function() {};}window.addEventListener('online', function() {if (typeof _banano_sd5addressbook['banano_online']==="function") {_banano_sd5addressbook.banano_online();}});window.addEventListener('offline', function() {if (typeof _banano_sd5addressbook['banano_offline']==="function") {_banano_sd5addressbook.banano_offline();}});var BANversion=1757984307747;var BANRuntimeVersion='';window.document.addEventListener("readystatechange", BANLoadChecker, true);function BANLoadChecker() {if (window.document.readyState=="complete") {_banano_sd5addressbook.banano_ready();}}var hidden, visibilityChange;if (typeof document.hidden !== "undefined") {hidden = "hidden";visibilityChange = "visibilitychange";} else if (typeof document.msHidden !== "undefined") {hidden = "msHidden";visibilityChange = "msvisibilitychange";} else if (typeof document.webkitHidden !== "undefined") {hidden = "webkitHidden";visibilityChange = "webkitvisibilitychange";}function handleVisibilityChange() {if (document[hidden]) {if (typeof _banano_sd5addressbook['banano_visibilitychanged']==="function") {_banano_sd5addressbook.banano_visibilitychanged(false);}} else {if (typeof _banano_sd5addressbook['banano_visibilitychanged']==="function") {_banano_sd5addressbook.banano_visibilitychanged(true);}}};if (typeof document.addEventListener === "undefined" || hidden === undefined) {console.log("This requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API.");} else {document.addEventListener(visibilityChange, handleVisibilityChange, false);}